cscope 15 /data3/jerry/simulator/ns-3-allinone/ns-3-dev/src/dash               0000113869
	@examples/dash-example.cc

27 
	~<¡ršg
>

28 
	~<f¡»am
>

29 
	~<s¡»am
>

30 
	~"ns3/cÜe-moduË.h
"

31 
	~"ns3/pošt-to-pošt-moduË.h
"

32 
	~"ns3/š‹º‘-moduË.h
"

33 
	~"ns3/­¶iÿtiÚs-moduË.h
"

34 
	~"ns3/ÃtwÜk-moduË.h
"

35 
	~"ns3/dash-moduË.h
"

36 
	~<s¡»am
>

37 
	~"../mod–/·¿.h
"

38 
usšg
 
Çme¥aû
 
	gns3
;

39 
usšg
 
Çme¥aû
 
	g¡d
;

40 
NS_LOG_COMPONENT_DEFINE
("DashExample");

42 
	#SIZE
 100

	)

43 
	glše
[
SIZE
];

48 
	$maš
(
¬gc
, *
¬gv
[])

50 
boŞ
 
Œacšg
 = 
çl£
;

51 
ušt32_t
 
maxBy‹s
 = 100;

52 
ušt32_t
 
u£rs
 = 1;

53 
rg‘_dt
 = 35.0;

54 
¡İTime
 = 100.0;

55 
¡d
::
¡ršg
 
lškR©e
 = "500Kbps";

56 
¡d
::
¡ršg
 
d–ay
 = "0ms";

57 
¡d
::
¡ršg
 
´ÙocŞ
 = "ns3::DashClient";

58 
¡d
::
¡ršg
 
wšdow
 = "10s";

59 
video_šfo_dœ
="";

60 
´ob_dœ
="";

61 
´ob_ov”®l_dœ
="";

62 
u£r_šfo_fe
="";

63 
ex³rim’t_dœ
="";

64 
te_rows
=0;

65 
te_cŞs
=0;

66 
rho
=0.5;

67 
š™_bufãr
 = 4;

68 
£g_Ëngth
 = 1;

69 
¡d
::
¡ršg
 
gt_dœ
="";

70 
¡d
::
¡ršg
 
´ed_dœ
="";

79 
CommªdLše
 
cmd
;

80 
cmd
.
	`AddV®ue
("Œacšg", "FÏgØ’abË/di§bË¿cšg", 
Œacšg
);

81 
cmd
.
	`AddV®ue
("maxBytes", "Total‚umber of bytes for‡pplicationo send",

82 
maxBy‹s
);

83 
cmd
.
	`AddV®ue
("u£rs", "Thnumb” oàcÚcu¼’ˆvideos", 
u£rs
);

84 
cmd
.
	`AddV®ue
("targetDt",

86 
rg‘_dt
);

87 
cmd
.
	`AddV®ue
("stopTime",

88 "Thtimwh’hş›Á wÈ¡İ„eque¡šg segm’ts", 
¡İTime
);

89 
cmd
.
	`AddV®ue
("linkRate",

91 
lškR©e
);

92 
cmd
.
	`AddV®ue
("delay",

94 
d–ay
);

95 
cmd
.
	`AddV®ue
("protocol",

97 
´ÙocŞ
);

98 
cmd
.
	`AddV®ue
("window",

99 "Thwšdow fÜ m—suršghav”agthroughpuˆ(Time).", 
wšdow
);

101 
cmd
.
	`AddV®ue
("in_file",

102 "špuˆfe", 
šput_£r›s
);

104 
cmd
.
	`AddV®ue
("seg_length",

105 "Th£gm’ˆËngth.", 
£g_Ëngth
);

107 
cmd
.
	`AddV®ue
("init_buffer",

108 "Thš™ŸÈbufã¸Ëngth (£gm’t).", 
š™_bufãr
);

109 
cmd
.
	`AddV®ue
("video_info_dir",

110 "ThdœeùÜy stÜšghvideØšfÜm©iÚ:ed-£gm’ˆsize, PSNR, SSIM, OPVQ.", 
video_šfo_dœ
);

111 
cmd
.
	`AddV®ue
("user_info",

112 "Thf¡Üšghu£¸šfÜm©iÚ (video_idx, u£r_idx).", 
u£r_šfo_fe
);

113 
cmd
.
	`AddV®ue
("experiment_dir",

114 "ThdœeùÜy stÜšghex³rim’ˆouuts.", 
ex³rim’t_dœ
);

115 
cmd
.
	`AddV®ue
("feature_dir",

116 "ThdœeùÜy stÜšg iÅuˆã©u»s.", 
ã©u»_dœ
);

117 
cmd
.
	`AddV®ue
("tile_rows",

118 "Thnumb” oàrow še.", 
te_rows
);

119 
cmd
.
	`AddV®ue
("tile_cols",

120 "Thnumb” oàcŞumn še.", 
te_cŞs
);

121 
cmd
.
	`AddV®ue
("rho",

122 "Thth»shŞd oàv›wšg…robab™y.", 
rho
);

123 
cmd
.
	`AddV®ue
("pred_dir",

124 "ThdœeùÜy stÜšgh´ediùed¿ûs.", 
´ed_dœ
);

125 
cmd
.
	`AddV®ue
("gt_dir",

126 "ThdœeùÜy stÜšghgroundruth¿ûs.", 
gt_dœ
);

129 
cmd
.
	`P¬£
(
¬gc
, 
¬gv
);

166 
¡d
::
¡ršg
 
video_šfo_šdex
="";

167 
video_šfo_šdex
=
video_šfo_dœ
+"video_index";

168 
if¡»am
 
	`video_šfo_fe
(
video_šfo_šdex
);

169 if(!
video_šfo_fe
)

170 
cout
<<"nØvideØšfØfe"<<
’dl
;

171 
¡d
::
¡ršg
 
tmp_¡r
="";

172 
video_šfo_fe
 >> 
tmp_¡r
){

173 
video_Çmes
.
	`push_back
(
tmp_¡r
);

175 
video_šfo_fe
.
	`şo£
();

176 
¡d
::
¡ršg¡»am
 
tmp_te_cŞ
, 
tmp_te_row
;

177 
tmp_te_cŞ
<<
te_cŞs
;

178 
tmp_te_row
<<
te_rows
;

179 
te_cŞ
=
tmp_te_cŞ
.
	`¡r
();

180 
te_row
=
tmp_te_row
.
	`¡r
();

181 
¡ršg
 
¡r
;

184 
ušt32_t
 
k
=0; k<
video_Çmes
.
	`size
(); k++){

185 
veùÜ
<veùÜ<>> 
tmp_video_size
;

186 
if¡»am
 
	`video_size_fe
(
video_šfo_dœ
+
video_Çmes
[
k
]+"_"+
te_cŞ
+"x"+
te_row
+"_size");

187 if(!
video_size_fe
)

188 
cout
<<"nØvideØšfØfe: "<<
video_Çmes
[
k
]+"_"+
te_cŞ
+"x"+
te_row
+"_size"<<
’dl
;

189 
	`g‘lše
(
video_size_fe
,
¡r
)){

190 
i¡ršg¡»am
 
	`sss
(
¡r
);

191 
¡ršg
 
tok’
;

192 
veùÜ
<> 
tmp_te_size
;

193 
	`g‘lše
(
sss
,
tok’
,' ')){

194 
tmp_te_size
.
	`push_back
(
	`¡od
(
tok’
));

196 
tmp_video_size
.
	`push_back
(
tmp_te_size
);

198 
video_size
.
	`push_back
(
tmp_video_size
);

199 
video_size_fe
.
	`şo£
();

202 
if¡»am
 
	`u£r_šfo_å
(
u£r_šfo_fe
);

203 if(!
u£r_šfo_å
)

204 
cout
<<"nØu£¸šfØfe: "<<
u£r_šfo_fe
<<
’dl
;

205 
¡ršg
 
video_idx
, 
u£r_idx
;

206 
u£r_šfo_å
 >> 
video_idx
 >> 
u£r_idx
){

207 
veùÜ
<> 
tmp_u£r
;

208 
tmp_u£r
.
	`push_back
(
	`¡oi
(
video_idx
));

209 
tmp_u£r
.
	`push_back
(
	`¡oi
(
u£r_idx
));

210 
tmp_u£r
.
	`push_back
(-1);

211 
u£r_šfo
.
	`push_back
(
tmp_u£r
);

213 
tmp_´ed_fe
[50];

214 
	`¥rštf
(
tmp_´ed_fe
,"%s%s_u£r%02d_´ed",
´ed_dœ
.
	`c_¡r
(),
video_Çmes
[
tmp_u£r
[0]].c_¡r(),
	`¡oi
(
u£r_idx
));

215 
¡d
::
¡ršg
 
	`´ed_šfo_f
(
tmp_´ed_fe
);

216 
if¡»am
 
	`´ed_šfo_å
(
´ed_šfo_f
);

217 
veùÜ
<veùÜ<>> 
tmp_u£r_´ed
;

218 
út
=0;

219 
	`g‘lše
(
´ed_šfo_å
,
¡r
)){

220 ià(
út
%30!=0){

221 
út
++;

224 
i¡ršg¡»am
 
	`sss
(
¡r
);

225 
¡ršg
 
tok’
;

226 
veùÜ
<> 
tmp_te_´ed
;

227 
	`g‘lše
(
sss
,
tok’
,' ')){

228 
tmp_te_´ed
.
	`push_back
(
	`¡of
(
tok’
));

230 
tmp_u£r_´ed
.
	`push_back
(
tmp_te_´ed
);

231 
út
++;

233 
´ed_šfo
.
	`push_back
(
tmp_u£r_´ed
);

234 
´ed_šfo_å
.
	`şo£
();

236 
tmp_gt_fe
[50];

237 
	`¥rštf
(
tmp_gt_fe
,"%s%s_u£r%02d_gt_n30",
gt_dœ
.
	`c_¡r
(),
video_Çmes
[
tmp_u£r
[0]].c_¡r(),
	`¡oi
(
u£r_idx
));

238 
¡d
::
¡ršg
 
	`tmp_gt_f
(
tmp_gt_fe
);

239 
if¡»am
 
	`gt_šfo_å
(
tmp_gt_f
);

240 
veùÜ
<veùÜ<>> 
tmp_u£r_gt
;

241 
út
=0;

242 
	`g‘lše
(
gt_šfo_å
,
¡r
)){

243 ià(
út
%30!=0){

244 
út
++;

247 
i¡ršg¡»am
 
	`sss
(
¡r
);

248 
¡ršg
 
tok’
;

249 
veùÜ
<> 
tmp_te_gt
;

250 
	`g‘lše
(
sss
,
tok’
,' ')){

251 
tmp_te_gt
.
	`push_back
(
	`¡of
(
tok’
));

253 
tmp_u£r_gt
.
	`push_back
(
tmp_te_gt
);

254 
út
++;

256 
gt_šfo
.
	`push_back
(
tmp_u£r_gt
);

257 
gt_šfo_å
.
	`şo£
();

260 
u£r_šfo_å
.
	`şo£
();

262 
te_num
=()(
te_cŞs
*
te_rows
);

263 
ušt32_t
 
£g_num
=()(60.0/()
£g_Ëngth
);

264 
ušt32_t
 
k
=0; k<
u£rs
; k++){

265 
veùÜ
<veùÜ<>> 
tmp_£g
;

266 
ušt32_t
 
m
=0; m<
£g_num
; m++){

267 
veùÜ
<> 
tmp_te
;

268 
v
=0; v<
te_num
; v++){

269 
tmp_te
.
	`push_back
(0);

271 
tmp_£g
.
	`push_back
(
tmp_te
);

273 
´obs
.
	`push_back
(
tmp_£g
);

276 
ušt32_t
 
k
=0; k<
u£rs
; k++){

277 
veùÜ
<> 
tmp_v£g
;

278 
ušt32_t
 
m
=0; m<
£g_num
; m++){

279 
tmp_v£g
.
	`push_back
(0);

281 
video_£r›s
.
	`push_back
(
tmp_v£g
);

283 
ušt32_t
 
k
=0; k<
u£rs
; k++){

284 
veùÜ
<> 
tmp_br_£g
;

285 
veùÜ
<> 
tmp_di¡_£g
;

286 
ušt32_t
 
m
=0; m<
£g_num
; m++){

287 
tmp_br_£g
.
	`push_back
(0);

289 
brs
.
	`push_back
(
tmp_br_£g
);

374 
	`NS_LOG_INFO
("Create‚odes.");

375 
NodeCÚš”
 
nodes
;

376 
nodes
.
	`C»©e
(2);

378 
	`NS_LOG_INFO
("Create channels.");

383 
PoštToPoštH–³r
 
poštToPošt
;

384 
poštToPošt
.
	`S‘DeviûA‰ribu‹
("D©aR©e", 
	`SŒšgV®ue
(
lškR©e
));

385 
poštToPošt
.
	`S‘ChªÃlA‰ribu‹
("D–ay", 
	`SŒšgV®ue
(
d–ay
));

386 
N‘DeviûCÚš”
 
deviûs
;

387 
deviûs
 = 
poštToPošt
.
	`In¡®l
(
nodes
);

392 
IÁ”ÃtSckH–³r
 
š‹º‘
;

393 
š‹º‘
.
	`In¡®l
(
nodes
);

398 
	`NS_LOG_INFO
("Assign IP Addresses.");

399 
Ipv4Add»ssH–³r
 
v4
;

400 
Ipv4IÁ”çûCÚš”
 
i
 = 
v4
.
	`Assign
(
deviûs
);

402 
	`NS_LOG_INFO
("Create Applications.");

404 
¡d
::
veùÜ
<¡d::
¡ršg
> 
´ÙocŞs
;

405 
¡d
::
¡ršg¡»am
 
	`ss
(
´ÙocŞ
);

406 
¡d
::
¡ršg
 
´Ùo
;

407 
ušt32_t
 
´ÙoNum
 = 0;

408 
¡d
::
	`g‘lše
(
ss
, 
´Ùo
, ','è&& 
´ÙoNum
++ < 
u£rs
)

410 
´ÙocŞs
.
	`push_back
(
´Ùo
);

413 
ušt16_t
 
pÜt
 = 80;

414 
¡d
::
veùÜ
<
DashCl›ÁH–³r
> 
ş›Ás
;

415 
¡d
::
veùÜ
<
AµliÿtiÚCÚš”
> 
ş›ÁAµs
;

418 
ušt32_t
 
u£r
 = 0; u£¸< 
u£rs
; user++)

420 
DashCl›ÁH–³r
 
	`ş›Á
("ns3::TcpSocketFactory",

421 
	`IÃtSock‘Add»ss
(
i
.
	`G‘Add»ss
(1), 
pÜt
), 
´ÙocŞs
[
u£r
 % 
´ÙoNum
]);

423 
ş›Á
.
	`S‘A‰ribu‹
("VideoId", 
	`Uš‹g”V®ue
(
u£r
 + 1));

424 
ş›Á
.
	`S‘A‰ribu‹
("T¬g‘Dt", 
	`TimeV®ue
(
	`SecÚds
(
rg‘_dt
)));

425 
ş›Á
.
	`S‘A‰ribu‹
("wšdow", 
	`TimeV®ue
(
	`Time
(
wšdow
)));

426 
AµliÿtiÚCÚš”
 
ş›ÁAµ
 = 
ş›Á
.
	`In¡®l
(
nodes
.
	`G‘
(0));

427 
ş›ÁAµ
.
	`S¹
(
	`SecÚds
(0.25));

430 
ş›Ás
.
	`push_back
(
ş›Á
);

431 
ş›ÁAµs
.
	`push_back
(
ş›ÁAµ
);

435 
DashS”v”H–³r
 
	`£rv”
("ns3::TcpSocketFactory",

436 
	`IÃtSock‘Add»ss
(
Ipv4Add»ss
::
	`G‘Any
(), 
pÜt
));

437 
AµliÿtiÚCÚš”
 
£rv”Aµs
 = 
£rv”
.
	`In¡®l
(
nodes
.
	`G‘
(1));

438 
£rv”Aµs
.
	`S¹
(
	`SecÚds
(0.0));

444 ià(
Œacšg
)

446 
AsciiT¿ûH–³r
 
ascii
;

447 
poštToPošt
.
	`EÇbËAsciiAÎ
(
ascii
.
	`C»©eFeSŒ—m
("dash-send.tr"));

448 
poštToPošt
.
	`EÇbËPÿpAÎ
("dash-£nd", 
çl£
);

453 
	`NS_LOG_INFO
("Run Simulation.");

455 
SimuÏtÜ
::
	`Run
();

456 
SimuÏtÜ
::
	`De¡roy
();

457 
	`NS_LOG_INFO
("Done.");

460 
ušt32_t
 
k
;

461 
k
 = 0; k < 
u£rs
; k++)

463 
PŒ
<
DashCl›Á
> 
­p
 = 
DyÇmicCa¡
<DashCl›Á>(
ş›ÁAµs
[
k
].
	`G‘
(0));

464 
¡d
::
cout
 << 
´ÙocŞs
[
k
 % 
´ÙoNum
] << "-Node: " << k;

465 
­p
->
	`G‘Sts
();

470 
	}
}

	@examples/dash-wifi.cc

21 
	~"ns3/cÜe-moduË.h
"

22 
	~"ns3/ÃtwÜk-moduË.h
"

23 
	~"ns3/­¶iÿtiÚs-moduË.h
"

24 
	~"ns3/wifi-moduË.h
"

25 
	~"ns3/mob™y-moduË.h
"

26 
	~"ns3/csma-moduË.h
"

27 
	~"ns3/š‹º‘-moduË.h
"

28 
	~"ns3/Ãnim-moduË.h
"

29 
	~"ns3/Ş¤-h–³r.h
"

30 
	~"ns3/dash-moduË.h
"

32 
usšg
 
Çme¥aû
 
	gns3
;

33 
NS_LOG_COMPONENT_DEFINE
("Dash-Wifi");

36 
	$maš
(
¬gc
, *
¬gv
[])

38 
ušt32_t
 
nWifi
 = 8;

39 
ušt32_t
 
maxBy‹s
 = 0;

40 
ušt32_t
 
u£rs
 = 1;

41 
ušt32_t
 
bulkNo
 = 1;

42 
rg‘_dt
 = 35.0;

43 
¡İTime
 = 100.0;

44 
¡d
::
¡ršg
 
lškR©e
 = "500Kbps";

45 
¡d
::
¡ršg
 
d–ay
 = "5ms";

46 
¡d
::
¡ršg
 
´ÙocŞ
 = "ns3::DashClient";

47 
¡d
::
¡ršg
 
wšdow
 = "10s";

56 
CommªdLše
 
cmd
;

57 
cmd
.
	`AddV®ue
("nWifi", "Numb” oàwif˜STA deviûs", 
nWifi
);

58 
cmd
.
	`AddV®ue
("maxBytes", "Total‚umber of bytes for‡pplicationo send",

59 
maxBy‹s
);

60 
cmd
.
	`AddV®ue
("u£rs", "Thnumb” oàcÚcu¼’ˆvideos", 
u£rs
);

61 
cmd
.
	`AddV®ue
("bulkNo", "Thnumb” oàbackground TCP¿nsãrs", 
bulkNo
);

62 
cmd
.
	`AddV®ue
("targetDt",

64 
rg‘_dt
);

65 
cmd
.
	`AddV®ue
("stopTime",

66 "Thtimwh’hş›Á wÈ¡İ„eque¡šg segm’ts", 
¡İTime
);

67 
cmd
.
	`AddV®ue
("linkRate",

69 
lškR©e
);

70 
cmd
.
	`AddV®ue
("delay",

72 
d–ay
);

73 
cmd
.
	`AddV®ue
("protocol",

75 
´ÙocŞ
);

76 
cmd
.
	`AddV®ue
("window",

77 "Thwšdow fÜ m—suršghav”agthroughpuˆ(Time).", 
wšdow
);

78 
cmd
.
	`P¬£
(
¬gc
, 
¬gv
);

80 ià(
bulkNo
 + 
u£rs
 > 
nWifi
 + 1)

82 
¡d
::
û¼
 << "you‚“d mÜ¡©iÚs" << std::
’dl
;

86 
¡d
::
cout
 << "nWifiğ" << 
nWifi
 << std::
’dl
;

88 
	`LogCompÚ’tEÇbË
("UdpCl›Á", 
LOG_LEVEL_INFO
);

89 
	`LogCompÚ’tEÇbË
("UdpS”v”", 
LOG_LEVEL_INFO
);

91 
NodeCÚš”
 
wifiSNodes
;

92 
wifiSNodes
.
	`C»©e
(
nWifi
);

94 
YªsWifiChªÃlH–³r
 
chªÃl
 = YªsWifiChªÃlH–³r::
	`DeçuÉ
();

95 
YªsWifiPhyH–³r
 
phy
 = YªsWifiPhyH–³r::
	`DeçuÉ
();

96 
phy
.
	`S‘ChªÃl
(
chªÃl
.
	`C»©e
());

99 
WifiH–³r
 
wifi
 = 
	`WifiH–³r
();

100 
wifi
.
	`S‘RemÙeStiÚMªag”
("ns3::AarfWifiManager");

101 
NqosWifiMacH–³r
 
mac
 = NqosWifiMacH–³r::
	`DeçuÉ
();

103 
N‘DeviûCÚš”
 
¡aDeviûs
;

104 
¡aDeviûs
 = 
wifi
.
	`In¡®l
(
phy
, 
mac
, 
wifiSNodes
);

106 
Mob™yH–³r
 
mob™y
;

107 
mob™y
.
	`S‘Pos™iÚAÎoÿtÜ
("ns3::GridPositionAllocator", "MinX",

108 
	`DoubËV®ue
(0.0), "MinY", DoubleValue(0.0), "DeltaX", DoubleValue(40.0),

109 "D–Y", 
	`DoubËV®ue
(50.0), "GridWidth", 
	`Uš‹g”V®ue
(2), "LayoutType",

110 
	`SŒšgV®ue
("RowFirst"));

112 
mob™y
.
	`S‘Mob™yMod–
("ns3::ConstantPositionMobilityModel");

113 
mob™y
.
	`In¡®l
(
wifiSNodes
);

115 
IÁ”ÃtSckH–³r
 
¡ack
;

116 
¡ack
.
	`In¡®l
(
wifiSNodes
);

117 
Ipv4Add»ssH–³r
 
add»ss
;

118 
add»ss
.
	`S‘Ba£
("10.1.2.0", "255.255.255.0");

119 
Ipv4IÁ”çûCÚš”
 
š‹rçûs
 = 
add»ss
.
	`Assign
(
¡aDeviûs
);

122 
¡d
::
veùÜ
<¡d::
¡ršg
> 
´ÙocŞs
;

123 
¡d
::
¡ršg¡»am
 
	`ss
(
´ÙocŞ
);

124 
¡d
::
¡ršg
 
´Ùo
;

125 
ušt32_t
 
´ÙoNum
 = 0;

126 
¡d
::
	`g‘lše
(
ss
, 
´Ùo
, ','è&& 
´ÙoNum
++ < 
u£rs
)

128 
´ÙocŞs
.
	`push_back
(
´Ùo
);

131 
ušt16_t
 
pÜt
 = 80;

133 
¡d
::
veùÜ
<
DashCl›ÁH–³r
> 
ş›Ás
;

134 
¡d
::
veùÜ
<
AµliÿtiÚCÚš”
> 
ş›ÁAµs
;

136 
ušt32_t
 
u£r
 = 0; u£¸< 
u£rs
; user++)

138 
DashCl›ÁH–³r
 
	`ş›Á
("ns3::TcpSocketFactory",

139 
	`IÃtSock‘Add»ss
(
š‹rçûs
.
	`G‘Add»ss
(0), 
pÜt
),
´ÙocŞs
[
u£r
 % 
´ÙoNum
]);

141 
ş›Á
.
	`S‘A‰ribu‹
("VideoId", 
	`Uš‹g”V®ue
(
u£r
 + 1));

142 
ş›Á
.
	`S‘A‰ribu‹
("T¬g‘Dt", 
	`TimeV®ue
(
	`SecÚds
(
rg‘_dt
)));

143 
ş›Á
.
	`S‘A‰ribu‹
("wšdow", 
	`TimeV®ue
(
	`Time
(
wšdow
)));

144 
AµliÿtiÚCÚš”
 
ş›ÁAµ
 = 
ş›Á
.
	`In¡®l
(
wifiSNodes
.
	`G‘
(
u£r
 + 1));

145 
ş›ÁAµ
.
	`S¹
(
	`SecÚds
(0.25));

146 
ş›ÁAµ
.
	`Stİ
(
	`SecÚds
(
¡İTime
));

148 
ş›Ás
.
	`push_back
(
ş›Á
);

149 
ş›ÁAµs
.
	`push_back
(
ş›ÁAµ
);

153 
DashS”v”H–³r
 
	`£rv”
("ns3::TcpSocketFactory",

154 
	`IÃtSock‘Add»ss
(
Ipv4Add»ss
::
	`G‘Any
(), 
pÜt
));

155 
AµliÿtiÚCÚš”
 
£rv”Aµs
 = 
£rv”
.
	`In¡®l
(
wifiSNodes
.
	`G‘
(0));

156 
£rv”Aµs
.
	`S¹
(
	`SecÚds
(0.0));

157 
£rv”Aµs
.
	`Stİ
(
	`SecÚds
(
¡İTime
 + 5.0));

159 
ušt32_t
 
bulk
 = 0; bulk < 
bulkNo
; bulk++)

161 
BulkS’dH–³r
 
	`sourû
("ns3::TcpSocketFactory",

162 
	`IÃtSock‘Add»ss
(
š‹rçûs
.
	`G‘Add»ss
(1 + 
u£rs
 + 
bulk
), 
pÜt
));

164 
sourû
.
	`S‘A‰ribu‹
("MaxBy‹s", 
	`Uš‹g”V®ue
(
maxBy‹s
));

165 
AµliÿtiÚCÚš”
 
sourûAµs
 = 
sourû
.
	`In¡®l
(
wifiSNodes
.
	`G‘
(0));

166 
sourûAµs
.
	`S¹
(
	`SecÚds
(0.0));

167 
sourûAµs
.
	`Stİ
(
	`SecÚds
(
¡İTime
));

169 
Pack‘SškH–³r
 
	`sšk
("ns3::TcpSocketFactory",

170 
	`IÃtSock‘Add»ss
(
Ipv4Add»ss
::
	`G‘Any
(), 
pÜt
));

171 
AµliÿtiÚCÚš”
 
sškAµs
 = 
sšk
.
	`In¡®l
(

172 
wifiSNodes
.
	`G‘
(1 + 
u£rs
 + 
bulk
));

173 
sškAµs
.
	`S¹
(
	`SecÚds
(0.0));

174 
sškAµs
.
	`Stİ
(
	`SecÚds
(
¡İTime
));

191 
SimuÏtÜ
::
	`Stİ
(
	`SecÚds
(
¡İTime
));

192 
Anim©iÚIÁ”çû
 
	`ªim
("dash-wifi.xml");

193 
SimuÏtÜ
::
	`Run
();

194 
SimuÏtÜ
::
	`De¡roy
();

196 
ušt32_t
 
k
;

197 
k
 = 0; k < 
u£rs
; k++)

199 
PŒ
<
DashCl›Á
> 
­p
 = 
DyÇmicCa¡
<DashCl›Á>(
ş›ÁAµs
[
k
].
	`G‘
(0));

200 
¡d
::
cout
 << 
´ÙocŞs
[
k
 % 
´ÙoNum
] << "-Node: " << k;

201 
­p
->
	`G‘Sts
();

205 
	}
}

	@examples/link-example.cc

27 
	~<¡ršg
>

28 
	~<f¡»am
>

29 
	~"ns3/cÜe-moduË.h
"

30 
	~"ns3/pošt-to-pošt-moduË.h
"

31 
	~"ns3/š‹º‘-moduË.h
"

32 
	~"ns3/­¶iÿtiÚs-moduË.h
"

33 
	~"ns3/ÃtwÜk-moduË.h
"

34 
	~"ns3/dash-moduË.h
"

35 
	~"../mod–/·¿.h
"

36 
usšg
 
Çme¥aû
 
	gns3
;

38 
NS_LOG_COMPONENT_DEFINE
("DashExample");

40 
	#SIZE
 100

	)

41 
	glše
[
SIZE
];

44 
C®lBack
(
PŒ
<
N‘Deviû
> 
deviû
, 
¡d
::
¡ršg
 
¿‹
)

46 
¡d
::
cout
 << "============================================\n"

47 "==ğCALLBACK:‚ew„©e: " << 
¿‹
 << " =====\n"

48 "============================================" << 
¡d
::
’dl
;

50 
	gdeviû
->
S‘A‰ribu‹
("D©aR©e", 
SŒšgV®ue
(
¿‹
));

55 
Sw™chC®lBack
(
PŒ
<
N‘Deviû
> 
deviû
, cÚ¡ 
¡d
::
¡ršg
 & 
sw™chTime
,

56 cÚ¡ 
¡d
::
¡ršg
 & 
lowR©e
, cÚ¡ std::¡ršg & 
highR©e
, 
boŞ
 
æag
)

59 
	g¡d
::
cout
 << "============================================\n"

60 "==ğCALLBACK:‚ew„©e: " << (
æag
 ? 
lowR©e
 : 
highR©e
) << " =====\n"

61 "============================================" << 
¡d
::
’dl
;

63 
	gdeviû
->
S‘A‰ribu‹
("DataRate",

64 
æag
 ? 
SŒšgV®ue
(
lowR©e
è: SŒšgV®ue(
highR©e
));

65 
	gæag
 = !
æag
;

67 
	gSimuÏtÜ
::
ScheduË
(
Time
(
sw™chTime
), 
Sw™chC®lBack
, 
deviû
, switchTime,

68 
lowR©e
, 
highR©e
, 
æag
);

72 
	$maš
(
¬gc
, *
¬gv
[])

74 
boŞ
 
Œacšg
 = 
çl£
;

75 
ušt32_t
 
maxBy‹s
 = 100;

76 
ušt32_t
 
u£rs
 = 1;

77 
rg‘_dt
 = 35.0;

78 
¡İTime
 = 500.0;

79 
lškHigh
 = 200.0;

80 
lškLow
 = 400.0;

81 
¡d
::
¡ršg
 
lškR©e
 = "1000000";

82 
¡d
::
¡ršg
 
highR©e
 = "2000000";

83 
¡d
::
¡ršg
 
lowR©e
 = "1000000";

84 
¡d
::
¡ršg
 
d–ay
 = "5ms";

85 
¡d
::
¡ršg
 
sw™chTime
 = "0s";

86 
¡d
::
¡ršg
 
sw™chS¹
 = "190s";

87 
¡d
::
¡ršg
 
´ÙocŞ
 = "ns3::DashClient";

88 
¡d
::
¡ršg
 
wšdow
 = "10s";

97 
CommªdLše
 
cmd
;

98 
cmd
.
	`AddV®ue
("Œacšg", "FÏgØ’abË/di§bË¿cšg", 
Œacšg
);

99 
cmd
.
	`AddV®ue
("maxBytes", "Total‚umber of bytes for‡pplicationo send",

100 
maxBy‹s
);

101 
cmd
.
	`AddV®ue
("u£rs", "Thnumb” oàcÚcu¼’ˆvideos", 
u£rs
);

102 
cmd
.
	`AddV®ue
("targetDt",

104 
rg‘_dt
);

105 
cmd
.
	`AddV®ue
("stopTime",

106 "Thtimwh’hş›Á wÈ¡İ„eque¡šg segm’ts", 
¡İTime
);

107 
cmd
.
	`AddV®ue
("linkRate",

109 
lškR©e
);

110 
cmd
.
	`AddV®ue
("delay",

112 
d–ay
);

113 
cmd
.
	`AddV®ue
("switchTime",

115 
sw™chTime
);

116 
cmd
.
	`AddV®ue
("protocol",

118 
´ÙocŞ
);

119 
cmd
.
	`AddV®ue
("window",

120 "Thwšdow fÜ m—suršghav”agthroughpuˆ(Time).", 
wšdow
);

121 
cmd
.
	`P¬£
(
¬gc
, 
¬gv
);

125 
if¡»am
 
	`fe
("3x3_test.csv");

126 
¡ršg
 
¡r
;

127 if(!
fe
è
cout
<<"nØfe"<<
’dl
;

128 
	`g‘lše
(
fe
,
¡r
)){

129 
video_num
.
	`push_back
(
	`¡oi
(
¡r
));

135 
	`NS_LOG_INFO
("Create‚odes.");

136 
NodeCÚš”
 
nodes
;

137 
nodes
.
	`C»©e
(2);

139 
	`NS_LOG_INFO
("Create channels.");

144 
PoštToPoštH–³r
 
poštToPošt
;

145 
poštToPošt
.
	`S‘DeviûA‰ribu‹
("D©aR©e", 
	`SŒšgV®ue
(
lškR©e
));

146 
poštToPošt
.
	`S‘ChªÃlA‰ribu‹
("D–ay", 
	`SŒšgV®ue
(
d–ay
));

148 
N‘DeviûCÚš”
 
deviûs
;

149 
deviûs
 = 
poštToPošt
.
	`In¡®l
(
nodes
);

151 ià(
	`Time
(
sw™chTime
è=ğ
	`SecÚds
(0))

153 
SimuÏtÜ
::
	`ScheduË
(
	`SecÚds
(
lškHigh
), 
C®lBack
, 
deviûs
.
	`G‘
(0),

154 
highR©e
);

155 
SimuÏtÜ
::
	`ScheduË
(
	`SecÚds
(
lškLow
), 
C®lBack
, 
deviûs
.
	`G‘
(0), 
lowR©e
);

156 
SimuÏtÜ
::
	`ScheduË
(
	`SecÚds
(
lškHigh
), 
C®lBack
, 
deviûs
.
	`G‘
(1),

157 
highR©e
);

158 
SimuÏtÜ
::
	`ScheduË
(
	`SecÚds
(
lškLow
), 
C®lBack
, 
deviûs
.
	`G‘
(1), 
lowR©e
);

162 
SimuÏtÜ
::
	`ScheduË
(
	`Time
(
sw™chS¹
), 
Sw™chC®lBack
, 
deviûs
.
	`G‘
(0),

163 
sw™chTime
, 
lowR©e
, 
highR©e
, 
çl£
);

164 
SimuÏtÜ
::
	`ScheduË
(
	`Time
(
sw™chS¹
), 
Sw™chC®lBack
, 
deviûs
.
	`G‘
(1),

165 
sw™chTime
, 
lowR©e
, 
highR©e
, 
çl£
);

170 
IÁ”ÃtSckH–³r
 
š‹º‘
;

171 
š‹º‘
.
	`In¡®l
(
nodes
);

176 
	`NS_LOG_INFO
("Assign IP Addresses.");

177 
Ipv4Add»ssH–³r
 
v4
;

178 
v4
.
	`S‘Ba£
("10.1.1.0", "255.255.255.0");

179 
Ipv4IÁ”çûCÚš”
 
i
 = 
v4
.
	`Assign
(
deviûs
);

181 
	`NS_LOG_INFO
("Create Applications.");

183 
¡d
::
veùÜ
<¡d::
¡ršg
> 
´ÙocŞs
;

184 
¡d
::
¡ršg¡»am
 
	`ss
(
´ÙocŞ
);

185 
¡d
::
¡ršg
 
´Ùo
;

186 
ušt32_t
 
´ÙoNum
 = 0;

187 
¡d
::
	`g‘lše
(
ss
, 
´Ùo
, ','è&& 
´ÙoNum
++ < 
u£rs
)

189 
´ÙocŞs
.
	`push_back
(
´Ùo
);

192 
ušt16_t
 
pÜt
 = 80;

194 
¡d
::
veùÜ
<
DashCl›ÁH–³r
> 
ş›Ás
;

195 
¡d
::
veùÜ
<
AµliÿtiÚCÚš”
> 
ş›ÁAµs
;

197 
ušt32_t
 
u£r
 = 0; u£¸< 
u£rs
; user++)

199 
DashCl›ÁH–³r
 
	`ş›Á
("ns3::TcpSocketFactory",

200 
	`IÃtSock‘Add»ss
(
i
.
	`G‘Add»ss
(1), 
pÜt
), 
´ÙocŞs
[
u£r
 % 
´ÙoNum
]);

202 
ş›Á
.
	`S‘A‰ribu‹
("T¬g‘Dt", 
	`TimeV®ue
(
	`SecÚds
(
rg‘_dt
)));

203 
ş›Á
.
	`S‘A‰ribu‹
("VideoId", 
	`Uš‹g”V®ue
(
u£r
 + 1));

204 
ş›Á
.
	`S‘A‰ribu‹
("wšdow",
	`TimeV®ue
(
	`Time
(
wšdow
)));

206 
AµliÿtiÚCÚš”
 
ş›ÁAµ
 = 
ş›Á
.
	`In¡®l
(
nodes
.
	`G‘
(0));

207 
ş›ÁAµ
.
	`S¹
(
	`SecÚds
(0.25));

210 
ş›Ás
.
	`push_back
(
ş›Á
);

211 
ş›ÁAµs
.
	`push_back
(
ş›ÁAµ
);

215 
DashS”v”H–³r
 
	`£rv”
("ns3::TcpSocketFactory",

216 
	`IÃtSock‘Add»ss
(
Ipv4Add»ss
::
	`G‘Any
(), 
pÜt
));

217 
AµliÿtiÚCÚš”
 
£rv”Aµs
 = 
£rv”
.
	`In¡®l
(
nodes
.
	`G‘
(1));

218 
£rv”Aµs
.
	`S¹
(
	`SecÚds
(0.0));

224 ià(
Œacšg
)

226 
AsciiT¿ûH–³r
 
ascii
;

227 
poštToPošt
.
	`EÇbËAsciiAÎ
(
ascii
.
	`C»©eFeSŒ—m
("dash-send.tr"));

228 
poštToPošt
.
	`EÇbËPÿpAÎ
("dash-£nd", 
çl£
);

234 
	`NS_LOG_INFO
("Run Simulation.");

235 
SimuÏtÜ
::
	`Stİ
(
	`SecÚds
(
¡İTime
));

236 
SimuÏtÜ
::
	`Run
();

237 
SimuÏtÜ
::
	`De¡roy
();

238 
	`NS_LOG_INFO
("Done.");

240 
ušt32_t
 
k
;

241 
k
 = 0; k < 
u£rs
; k++)

243 
PŒ
<
DashCl›Á
> 
­p
 = 
DyÇmicCa¡
<DashCl›Á>(
ş›ÁAµs
[
k
].
	`G‘
(0));

244 
¡d
::
cout
 << 
´ÙocŞs
[
k
 % 
´ÙoNum
] << "-Node: " << k;

245 
­p
->
	`G‘Sts
();

248 
	}
}

	@helper/dash-client-helper.cc

23 
	~"dash-ş›Á-h–³r.h
"

24 
	~"ns3/š‘-sock‘-add»ss.h
"

25 
	~"ns3/·ck‘-sock‘-add»ss.h
"

26 
	~"ns3/¡ršg.h
"

27 
	~"ns3/Çmes.h
"

29 
Çme¥aû
 
	gns3
 {

31 
	gDashCl›ÁH–³r
::
DashCl›ÁH–³r
 (
¡d
::
¡ršg
 
tıPrÙocŞ
, 
Add»ss
 
add»ss
)

33 
	gm_çùÜy
.
S‘Ty³Id
 ("ns3::DashClient");

34 
	gm_çùÜy
.
S‘
 ("PrÙocŞ", 
SŒšgV®ue
 (
tıPrÙocŞ
));

35 
	gm_çùÜy
.
S‘
 ("RemÙe", 
Add»ssV®ue
 (
add»ss
));

38 
	gDashCl›ÁH–³r
::
DashCl›ÁH–³r
 (
¡d
::
¡ršg
 
tıPrÙocŞ
, 
Add»ss
 
add»ss
, std::¡ršg 
®gÜ™hm
)

40 
m_çùÜy
.
S‘Ty³Id
 (
®gÜ™hm
);

41 
	gm_çùÜy
.
S‘
 ("PrÙocŞ", 
SŒšgV®ue
 (
tıPrÙocŞ
));

42 
	gm_çùÜy
.
S‘
 ("RemÙe", 
Add»ssV®ue
 (
add»ss
));

45 
	gDashCl›ÁH–³r
::
S‘A‰ribu‹
 (
¡d
::
¡ršg
 
Çme
, cÚ¡ 
A‰ribu‹V®ue
 &
v®ue
)

47 
	gm_çùÜy
.
S‘
 (
Çme
, 
v®ue
);

50 
AµliÿtiÚCÚš”


51 
	gDashCl›ÁH–³r
::
In¡®l
 (
PŒ
<
Node
> 
node
) const

53  
AµliÿtiÚCÚš”
 (
In¡®lPriv
 (
node
));

56 
AµliÿtiÚCÚš”


57 
	gDashCl›ÁH–³r
::
In¡®l
 (
¡d
::
¡ršg
 
nodeName
) const

59 
PŒ
<
Node
> 
node
 = 
Names
::
Fšd
<Node> (
nodeName
);

60  
AµliÿtiÚCÚš”
 (
In¡®lPriv
 (
node
));

63 
AµliÿtiÚCÚš”


64 
	gDashCl›ÁH–³r
::
In¡®l
 (
NodeCÚš”
 
c
) const

66 
AµliÿtiÚCÚš”
 
­ps
;

67 
	gNodeCÚš”
::
I‹¿tÜ
 
i
 = 
c
.
Begš
 (); 
	gi
 !ğc.
End
 (); ++i)

69 
	g­ps
.
Add
 (
In¡®lPriv
 (*
i
));

72  
	g­ps
;

75 
	gPŒ
<
	gAµliÿtiÚ
>

76 
	gDashCl›ÁH–³r
::
In¡®lPriv
 (
PŒ
<
Node
> 
node
) const

78 
PŒ
<
AµliÿtiÚ
> 
­p
 = 
m_çùÜy
.
C»©e
<Application> ();

79 
	gnode
->
AddAµliÿtiÚ
 (
­p
);

81  
	g­p
;

	@helper/dash-client-helper.h

23 #iâdeà
DASH_CLIENT_HELPER_H


24 
	#DASH_CLIENT_HELPER_H


	)

26 
	~<¡dšt.h
>

27 
	~<¡ršg
>

28 
	~"ns3/objeù-çùÜy.h
"

29 
	~"ns3/add»ss.h
"

30 
	~"ns3/©Œibu‹.h
"

31 
	~"ns3/Ãt-deviû.h
"

32 
	~"ns3/node-cÚš”.h
"

33 
	~"ns3/­¶iÿtiÚ-cÚš”.h
"

35 
Çme¥aû
 
	gns3
 {

41 şas 
	cDashCl›ÁH–³r


43 
	gpublic
:

54 
DashCl›ÁH–³r
 (
¡d
::
¡ršg
 
tıPrÙocŞ
, 
Add»ss
 
add»ss
);

69 
DashCl›ÁH–³r
 (
¡d
::
¡ršg
 
tıPrÙocŞ
, 
Add»ss
 
add»ss
, std::¡ršg 
®gÜ™hm
);

78 
S‘A‰ribu‹
 (
¡d
::
¡ršg
 
Çme
, cÚ¡ 
A‰ribu‹V®ue
 &
v®ue
);

88 
AµliÿtiÚCÚš”
 
In¡®l
 (
NodeCÚš”
 
c
) const;

97 
AµliÿtiÚCÚš”
 
In¡®l
 (
PŒ
<
Node
> 
node
) const;

106 
AµliÿtiÚCÚš”
 
In¡®l
 (
¡d
::
¡ršg
 
nodeName
) const;

108 
	g´iv©e
:

117 
PŒ
<
AµliÿtiÚ
> 
In¡®lPriv
 (PŒ<
Node
> 
node
) const;

118 
	g¡d
::
¡ršg
 
m_´ÙocŞ
;

119 
Add»ss
 
	gm_»mÙe
;

120 
ObjeùFaùÜy
 
	gm_çùÜy
;

	@helper/dash-server-helper.cc

23 
	~"dash-£rv”-h–³r.h
"

24 
	~"ns3/¡ršg.h
"

25 
	~"ns3/š‘-sock‘-add»ss.h
"

26 
	~"ns3/Çmes.h
"

28 
Çme¥aû
 
	gns3
 {

30 
	gDashS”v”H–³r
::
DashS”v”H–³r
 (
¡d
::
¡ršg
 
´ÙocŞ
, 
Add»ss
 
add»ss
)

32 
	gm_çùÜy
.
S‘Ty³Id
 ("ns3::DashServer");

33 
	gm_çùÜy
.
S‘
 ("PrÙocŞ", 
SŒšgV®ue
 (
´ÙocŞ
));

34 
	gm_çùÜy
.
S‘
 ("Loÿl", 
Add»ssV®ue
 (
add»ss
));

38 
	gDashS”v”H–³r
::
S‘A‰ribu‹
 (
¡d
::
¡ršg
 
Çme
, cÚ¡ 
A‰ribu‹V®ue
 &
v®ue
)

40 
	gm_çùÜy
.
S‘
 (
Çme
, 
v®ue
);

43 
AµliÿtiÚCÚš”


44 
	gDashS”v”H–³r
::
In¡®l
 (
PŒ
<
Node
> 
node
) const

46  
AµliÿtiÚCÚš”
 (
In¡®lPriv
 (
node
));

49 
AµliÿtiÚCÚš”


50 
	gDashS”v”H–³r
::
In¡®l
 (
¡d
::
¡ršg
 
nodeName
) const

52 
PŒ
<
Node
> 
node
 = 
Names
::
Fšd
<Node> (
nodeName
);

53  
AµliÿtiÚCÚš”
 (
In¡®lPriv
 (
node
));

56 
AµliÿtiÚCÚš”


57 
	gDashS”v”H–³r
::
In¡®l
 (
NodeCÚš”
 
c
) const

59 
AµliÿtiÚCÚš”
 
­ps
;

60 
	gNodeCÚš”
::
I‹¿tÜ
 
i
 = 
c
.
Begš
 (); 
	gi
 !ğc.
End
 (); ++i)

62 
	g­ps
.
Add
 (
In¡®lPriv
 (*
i
));

65  
	g­ps
;

68 
	gPŒ
<
	gAµliÿtiÚ
>

69 
	gDashS”v”H–³r
::
In¡®lPriv
 (
PŒ
<
Node
> 
node
) const

71 
PŒ
<
AµliÿtiÚ
> 
­p
 = 
m_çùÜy
.
C»©e
<Application> ();

72 
	gnode
->
AddAµliÿtiÚ
 (
­p
);

74  
	g­p
;

	@helper/dash-server-helper.h

22 #iâdeà
DASH_SERVER_HELPER_H


23 
	#DASH_SERVER_HELPER_H


	)

25 
	~"ns3/objeù-çùÜy.h
"

26 
	~"ns3/v4-add»ss.h
"

27 
	~"ns3/node-cÚš”.h
"

28 
	~"ns3/­¶iÿtiÚ-cÚš”.h
"

30 
Çme¥aû
 
	gns3
 {

36 şas 
	cDashS”v”H–³r


38 
	gpublic
:

49 
DashS”v”H–³r
 (
¡d
::
¡ršg
 
´ÙocŞ
, 
Add»ss
 
add»ss
);

57 
S‘A‰ribu‹
 (
¡d
::
¡ršg
 
Çme
, cÚ¡ 
A‰ribu‹V®ue
 &
v®ue
);

66 
AµliÿtiÚCÚš”
 
In¡®l
 (
NodeCÚš”
 
c
) const;

74 
AµliÿtiÚCÚš”
 
In¡®l
 (
PŒ
<
Node
> 
node
) const;

82 
AµliÿtiÚCÚš”
 
In¡®l
 (
¡d
::
¡ršg
 
nodeName
) const;

84 
	g´iv©e
:

88 
PŒ
<
AµliÿtiÚ
> 
In¡®lPriv
 (PŒ<
Node
> 
node
) const;

89 
ObjeùFaùÜy
 
	gm_çùÜy
;

	@model/algorithms/aaash-client.cc

8 
	~"¯ash-ş›Á.h
"

9 
	~<ns3/log.h
>

10 
	~<ns3/simuÏtÜ.h
>

11 
	~<ns3/dash-ş›Á.h
>

13 
NS_LOG_COMPONENT_DEFINE
("AaashClient");

15 
Çme¥aû
 
	gns3


17 
NS_OBJECT_ENSURE_REGISTERED
(
A¯shCl›Á
);

19 
Ty³Id


20 
	gA¯shCl›Á
::
G‘Ty³Id
()

22 
Ty³Id
 
tid
 =

23 
Ty³Id
("ns3::A¯shCl›Á").
S‘P¬’t
<
DashCl›Á
>().
AddCÚ¡ruùÜ
<

24 
A¯shCl›Á
>();

25  
	gtid
;

28 
	gA¯shCl›Á
::
A¯shCl›Á
() :

29 
m_ruÂšg_ç¡_¡¬t
(
Œue
)

35 
A¯shCl›Á
::~AaashClient()

41 
A¯shCl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

42 
Time
 & 
d–ay
)

44 
ušt32_t
 
	g¿‹s
[] =

51 
ušt32_t
 
	g¿‹s_size
 = (
¿‹s
) / (rates[0]);

53 
	ga1
 = 0.75;

54 
	ga2
 = 0.33;

55 
	ga3
 = 0.5;

56 
	ga4
 = 0.75;

57 
	ga5
 = 0.9;

59 
Time
 
b_mš
("10s");

60 
Time
 
b_low
("20s");

61 
Time
 
b_high
("50s");

62 
Time
 
	gb_İt
 = 
SecÚds
((
b_low
 + 
b_high
).
G‘SecÚds
() * 0.5);

64 
Time
 
f
(
MliSecÚds
(
MPEG_FRAMES_PER_SEGMENT
 * 
MPEG_TIME_BETWEEN_FRAMES
));

66 
Time
 
	gb_t
 = 
m_bufãrS‹
.
rbegš
()->
£cÚd
;

69 
ušt32_t
 
	g¿‹Ind
 = 
¿‹s_size
;

70 
ušt32_t
 
	gi
 = 0; i < 
	g¿‹s_size
; i++)

72 ià(
	g¿‹s
[
i
] =ğ
cu¼R©e
)

74 
¿‹Ind
 = 
i
;

78 ià(
	g¿‹Ind
 =ğ
¿‹s_size
)

80 
NS_FATAL_ERROR
("Wrong„ate");

83 
	gÃxtR©e
 = 
cu¼R©e
;

84 
	gd–ay
 = 
SecÚds
(0);

86 
ušt32_t
 
	gr_up
 = 
¿‹s
[
¿‹Ind
];

87 
ušt32_t
 
	gr_down
 = 
¿‹s
[
¿‹Ind
];

88 ià(
	g¿‹Ind
 + 1 < 
	g¿‹s_size
)

90 
	gr_up
 = 
¿‹s
[
¿‹Ind
 + 1];

92 ià(
	g¿‹Ind
 >= 1)

94 
r_down
 = 
¿‹s
[
¿‹Ind
 - 1];

99 ià(
	gm_ruÂšg_ç¡_¡¬t
 && (
	g¿‹Ind
 !ğ
¿‹s_size
 - 1è&& 
BufãrInc
()

100 && (
cu¼R©e
 <ğ
a1
 * 
m_b™¿‹E¡im©e
))

102 ià(
b_t
 < 
b_mš
)

104 ià(
r_up
 <ğ
a2
 * 
m_b™¿‹E¡im©e
)

106 
ÃxtR©e
 = 
r_up
;

109 ià(
	gb_t
 < 
	gb_low
)

111 ià(
	gr_up
 <ğ
a3
 * 
m_b™¿‹E¡im©e
)

113 
ÃxtR©e
 = 
r_up
;

118 ià(
	gr_up
 <ğ
a4
 * 
m_b™¿‹E¡im©e
)

120 
ÃxtR©e
 = 
r_up
;

122 ià(
	gb_t
 > 
	gb_high
)

124 
	gd–ay
 = 
b_high
 - 
f
;

130 
	gm_ruÂšg_ç¡_¡¬t
 = 
çl£
;

131 ià(
	gb_t
 < 
	gb_mš
)

133 
	gÃxtR©e
 = 
¿‹s
[0];

135 ià(
	gb_t
 < 
	gb_low
)

137 ià(
	gcu¼R©e
 !ğ
¿‹s
[0] && 
cu¼R©e
 >ğ
m_b™¿‹E¡im©e
)

139 
ÃxtR©e
 = 
r_down
;

142 ià(
	gb_t
 < 
	gb_high
)

144 ià((
	gcu¼R©e
 =ğ
¿‹s
[
¿‹s_size
 - 1])

145 || (
r_up
 >ğ
a5
 * 
m_b™¿‹E¡im©e
))

147 
d–ay
 = 
¡d
::
max
(
b_t
 - 
f
, 
b_İt
);

152 ià((
	gcu¼R©e
 =ğ
¿‹s
[
¿‹s_size
 - 1])

153 || (
r_up
 >ğ
a5
 * 
m_b™¿‹E¡im©e
))

155 
d–ay
 = 
¡d
::
max
(
b_t
 - 
f
, 
b_İt
);

159 
	gÃxtR©e
 = 
r_up
;

165 
NS_LOG_INFO
(

166 "ÃxtR©e: " << 
ÃxtR©e
 << "\tb_d–ay: " << 
d–ay
.
G‘SecÚds
(è<< "\tb_t: " << 
b_t
.G‘SecÚds(è<< "\tb_İt: " << 
b_İt
.GetSeconds());

169 
boŞ


170 
	gA¯shCl›Á
::
BufãrInc
()

172 
Time
 
Ï¡
(
SecÚds
(0));

174 
	g¡d
::
m­
<
Time
, 
	gTime
>::
™”©Ü
 
™
 = 
m_bufãrS‹
.
begš
();

175 
	g™
 !ğ
m_bufãrS‹
.
’d
(); it++)

180 ià(
	g™
->
	g£cÚd
 < 
	gÏ¡
)

182  
	gçl£
;

184 
	gÏ¡
 = 
™
->
£cÚd
;

186  
	gŒue
;

	@model/algorithms/aaash-client.h

8 #iâdeà
AAASH_CLIENT_H_


9 
	#AAASH_CLIENT_H_


	)

11 
	~<ns3/dash-ş›Á.h
>

12 
Çme¥aû
 
	gns3


15 şas 
	cA¯shCl›Á
 : 
public
 
DashCl›Á


17 
public
:

18 
Ty³Id


19 
G‘Ty³Id
();

21 
A¯shCl›Á
();

23 
	gvœtu®


24 ~
A¯shCl›Á
();

26 
vœtu®
 

27 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

29 
	g´iv©e
:

30 
boŞ


31 
BufãrInc
();

33 
boŞ
 
	gm_ruÂšg_ç¡_¡¬t
;

	@model/algorithms/fdash-client.cc

8 
	~"fdash-ş›Á.h
"

9 
	~<ns3/log.h
>

10 
	~<ns3/simuÏtÜ.h
>

11 
	~<ns3/dash-ş›Á.h
>

13 
NS_LOG_COMPONENT_DEFINE
("FdashClient");

15 
Çme¥aû
 
	gns3


17 
NS_OBJECT_ENSURE_REGISTERED
(
FdashCl›Á
);

19 
Ty³Id


20 
	gFdashCl›Á
::
G‘Ty³Id
()

22 
Ty³Id
 
tid
 =

23 
Ty³Id
("ns3::FdashCl›Á").
S‘P¬’t
<
DashCl›Á
>().
AddCÚ¡ruùÜ
<

24 
FdashCl›Á
>();

25  
	gtid
;

28 
	gFdashCl›Á
::
FdashCl›Á
()

34 
FdashCl›Á
::~FdashClient()

40 
FdashCl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

41 
Time
 & 
d–ay
)

43 
	g¦ow
 = 0, 
	gok
 = 0, 
	gç¡
 = 0, 
	gçÎšg
 = 0, 
	g¡—dy
 = 0, 
	grisšg
 = 0, 
	gr1
 =

44 0, 
	gr2
 = 0, 
	gr3
 = 0, 
	gr4
 = 0, 
	gr5
 = 0, 
	gr6
 = 0, 
	gr7
 = 0, 
	gr8
 = 0, 
	gr9
 = 0, 
	gp2
 =

45 0, 
	gp1
 = 0, 
	gz
 = 0, 
	gn1
 = 0, 
	gn2
 = 0, 
	gouut
 = 0;

47 
	gt
 = 
m_rg‘_dt
.
G‘SecÚds
();

49 
	gcu¼Dt
 = 
G‘BufãrE¡im©e
();

50 
	gdiff
 = 
G‘BufãrDifã»ÁŸl
();

52 ià(
	gcu¼Dt
 < 2 * 
	gt
 / 3)

54 
	g¦ow
 = 1.0;

56 ià(
	gcu¼Dt
 < 
	gt
)

58 
	g¦ow
 = 1 - 1 / (
t
 / 3è* (
cu¼Dt
 - 2 * / 3);

59 
	gok
 = 1 / (
t
 / 3è* (
cu¼Dt
 - 2 * / 3);

61 ià(
	gcu¼Dt
 < 4 * 
	gt
)

63 
	gok
 = 1 - 1 / (3 * 
t
è* (
cu¼Dt
 -);

64 
	gç¡
 = 1 / (3 * 
t
è* (
cu¼Dt
 -);

68 
	gç¡
 = 1;

71 ià(
	gdiff
 < -2 * 
	gt
 / 3)

73 
	gçÎšg
 = 1;

75 ià(
	gdiff
 < 0)

77 
	gçÎšg
 = 1 - 1 / (2 * 
t
 / 3è* (
diff
 + 2 * / 3);

78 
	g¡—dy
 = 1 / (2 * 
t
 / 3è* (
diff
 + 2 * / 3);

80 ià(
	gdiff
 < 4 * 
	gt
)

82 
	g¡—dy
 = 1 - 1 / (4 * 
t
è* 
diff
;

83 
	grisšg
 = 1 / (4 * 
t
è* 
diff
;

87 
	grisšg
 = 1;

90 
	gr1
 = 
¡d
::
mš
(
¦ow
, 
çÎšg
);

91 
	gr2
 = 
¡d
::
mš
(
ok
, 
çÎšg
);

92 
	gr3
 = 
¡d
::
mš
(
ç¡
, 
çÎšg
);

93 
	gr4
 = 
¡d
::
mš
(
¦ow
, 
¡—dy
);

94 
	gr5
 = 
¡d
::
mš
(
ok
, 
¡—dy
);

95 
	gr6
 = 
¡d
::
mš
(
ç¡
, 
¡—dy
);

96 
	gr7
 = 
¡d
::
mš
(
¦ow
, 
risšg
);

97 
	gr8
 = 
¡d
::
mš
(
ok
, 
risšg
);

98 
	gr9
 = 
¡d
::
mš
(
ç¡
, 
risšg
);

100 
	gp2
 = 
¡d
::
sq¹
(¡d::
pow
(
r9
, 2));

101 
	gp1
 = 
¡d
::
sq¹
(¡d::
pow
(
r6
, 2è+ std::pow(
r8
, 2));

102 
	gz
 = 
¡d
::
sq¹
(¡d::
pow
(
r3
, 2è+ std::pow(
r5
, 2è+ std::pow(
r7
, 2));

103 
	gn1
 = 
¡d
::
sq¹
(¡d::
pow
(
r2
, 2è+ std::pow(
r4
, 2));

104 
	gn2
 = 
¡d
::
sq¹
(¡d::
pow
(
r1
, 2));

107 
	gouut
 = (
n2
 * 0.25 + 
n1
 * 0.5 + 
z
 * 1 + 
p1
 * 2 + 
p2
 * 4)

108 / (
n2
 + 
n1
 + 
z
 + 
p1
 + 
p2
);

110 
NS_LOG_INFO
(

111 "cu¼Dt: " << 
cu¼Dt
 << " diff: " << 
diff
 << " slow: " << 
¦ow
 << " ok: " << 
ok
 << " fa¡: " << 
ç¡
 << " f®lšg: " << 
çÎšg
 << " s‹ady: " << 
¡—dy
 << "„isšg: " << 
risšg
 << "„1: " << 
r1
 << "„2: " << 
r2
 << "„3: " << 
r3
 << "„4: " << 
r4
 << "„5: " << 
r5
 << "„6: " << 
r6
 << "„7: " << 
r7
 << "„8: " << 
r8
 << "„9: " << 
r9
 << "…2: " << 
p2
 << "…1: " << 
p1
 << " z: " << 
z
 << "‚1: " << 
n1
 << "‚2: " << 
n2
 << " ouut: " << 
ouut
);

113 
ušt32_t
 
	g»suÉ
 = 0;

115 
	g»suÉ
 = 
ouut
 * 
m_b™¿‹E¡im©e
;

117 
ušt32_t
 
	g¿‹s
[] =

124 
ušt32_t
 
	g¿‹s_size
 = (
¿‹s
) / (rates[0]);

126 
ušt32_t
 
	gi
;

128 
	gÃxtR©e
 = 
¿‹s
[0];

130 
	gi
 = 0; i < 
	g¿‹s_size
; i++)

132 ià(
	g»suÉ
 > 
	g¿‹s
[
i
])

134 
	gÃxtR©e
 = 
¿‹s
[
i
];

138 
	gd–ay
 = 
SecÚds
(0);

139 ià(
	gÃxtR©e
 > 
	gcu¼R©e
)

153 
	gt_60
 = 
cu¼Dt
 + (
m_b™¿‹E¡im©e
 / 
ÃxtR©e
 - 1) * 60;

155 ià(
	gt_60
 < 
	gt
)

157 
	gÃxtR©e
 = 
cu¼R©e
;

158 
	gt_60
 = 
cu¼Dt
 + (
m_b™¿‹E¡im©e
 / 
ÃxtR©e
 - 1) * 60;

160 ià(
	gt_60
 > 
	gt
)

167 ià(
	gÃxtR©e
 < 
	gcu¼R©e
)

169 
	gt_60
 = 
cu¼Dt
 + (
m_b™¿‹E¡im©e
 / 
ÃxtR©e
 - 1) * 60;

171 ià(
	gt_60
 > 
	gt
)

173 
	gt_60
 = 
cu¼Dt
 + (
m_b™¿‹E¡im©e
 / 
cu¼R©e
 - 1) * 60;

174 ià(
	gt_60
 > 
	gt
)

176 
	gÃxtR©e
 = 
cu¼R©e
;

182 
NS_LOG_INFO
(
cu¼R©e
 << " " << 
ouut
 << " " << 
»suÉ
);

	@model/algorithms/fdash-client.h

8 #iâdeà
FDASH_CLIENT_H_


9 
	#FDASH_CLIENT_H_


	)

11 
	~<ns3/dash-ş›Á.h
>

12 
Çme¥aû
 
	gns3


15 şas 
	cFdashCl›Á
 : 
public
 
DashCl›Á


17 
public
:

18 
Ty³Id


19 
G‘Ty³Id
();

21 
FdashCl›Á
();

23 
	gvœtu®


24 ~
FdashCl›Á
();

26 
vœtu®
 

27 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

29 
	g´iv©e
:

30 
boŞ


31 
BufãrInc
();

	@model/algorithms/osmp-client.cc

8 
	~"osmp-ş›Á.h
"

9 
	~<ns3/log.h
>

10 
	~<ns3/simuÏtÜ.h
>

11 
	~<ns3/dash-ş›Á.h
>

13 
NS_LOG_COMPONENT_DEFINE
("OsmpClient");

15 
Çme¥aû
 
	gns3


17 
NS_OBJECT_ENSURE_REGISTERED
(
OsmpCl›Á
);

19 
Ty³Id


20 
	gOsmpCl›Á
::
G‘Ty³Id
()

22 
Ty³Id
 
tid
 =

23 
Ty³Id
("ns3::OsmpCl›Á").
S‘P¬’t
<
DashCl›Á
>().
AddCÚ¡ruùÜ
<

24 
OsmpCl›Á
>();

25  
	gtid
;

28 
	gOsmpCl›Á
::
OsmpCl›Á
()

34 
OsmpCl›Á
::~OsmpClient()

40 
OsmpCl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

41 
Time
 & 
d–ay
)

43 
ušt32_t
 
	g¿‹s
[] =

48 
ušt32_t
 
	g¿‹s_size
 = (
¿‹s
) / (rates[0]);

50 
	g¡d
::
m­
<
Time
, 
	gTime
>::
™”©Ü
 
™
;

51 
	g™
 = 
m_bufãrS‹
.
’d
();

53 
	g™
--;

54 
Time
 
	gnow
 = 
™
->
fœ¡
;

56 ià(
	g™
 !ğ
m_bufãrS‹
.
begš
())

58 
™
--;

62 
Time
 
	gt_Ï¡_äag
 = 
now
 - 
™
->
fœ¡
;

65 
	gl_cur
 = 0;

66 
	g¿‹s
[
l_cur
] !ğ
cu¼R©e
)

68 
l_cur
++;

71 
	gl_nxt
 = 0;

72 
	gl_mš
 = 0;

73 
	gl_max
 = 
¿‹s_size
 - 1;

75 
	gr_dowÆßd
 = 100;

76 ià(
	gt_Ï¡_äag
.
G‘MliSecÚds
() > 0)

78 
	gr_dowÆßd
 = (1.0 * 
MPEG_FRAMES_PER_SEGMENT
 * 
MPEG_TIME_BETWEEN_FRAMES
)

79 / 
t_Ï¡_äag
.
G‘MliSecÚds
();

85 ià(
	gr_dowÆßd
 < 1)

87 ià(
	gl_cur
 > 
	gl_mš
)

89 ià(
	gr_dowÆßd
 < ((1.0 * 
	g¿‹s
[
l_cur
 - 1]) /„ates[l_cur]))

91 
	gl_nxt
 = 
l_mš
;

95 
	gl_nxt
 = 
l_cur
 - 1;

101 ià(
	gl_cur
 < 
	gl_max
)

103 ià(
	gl_cur
 == 0

104 || 
r_dowÆßd
 > ((1.0 * 
¿‹s
[
l_cur
 - 1]) /„ates[l_cur]))

108 
l_nxt
 =†_nxt + 1;

110 !(
	gl_nxt
 =ğ
l_max


111 || 
r_dowÆßd
 < ((1.0 * 
¿‹s
[
l_nxt
 + 1]è/„©es[
l_cur
])));

117 
	gd–ay
 = 
SecÚds
(0);

118 
	gÃxtR©e
 = 
¿‹s
[
l_nxt
];

	@model/algorithms/osmp-client.h

8 #iâdeà
OSMP_CLIENT_H_


9 
	#OSMP_CLIENT_H_


	)

11 
	~<ns3/dash-ş›Á.h
>

12 
Çme¥aû
 
	gns3


15 şas 
	cOsmpCl›Á
 : 
public
 
DashCl›Á


17 
public
:

18 
Ty³Id


19 
G‘Ty³Id
();

21 
OsmpCl›Á
();

23 
	gvœtu®


24 ~
OsmpCl›Á
();

26 
vœtu®
 

27 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

	@model/algorithms/raahs-client.cc

8 
	~"¿ahs-ş›Á.h
"

9 
	~<ns3/log.h
>

10 
	~<ns3/simuÏtÜ.h
>

11 
	~<ns3/dash-ş›Á.h
>

13 
NS_LOG_COMPONENT_DEFINE
("RaahsClient");

15 
Çme¥aû
 
	gns3


17 
NS_OBJECT_ENSURE_REGISTERED
(
R¯hsCl›Á
);

19 
Ty³Id


20 
	gR¯hsCl›Á
::
G‘Ty³Id
()

22 
Ty³Id
 
tid
 =

23 
Ty³Id
("ns3::R¯hsCl›Á").
S‘P¬’t
<
DashCl›Á
>().
AddCÚ¡ruùÜ
<

24 
R¯hsCl›Á
>();

25  
	gtid
;

28 
	gR¯hsCl›Á
::
R¯hsCl›Á
()

34 
R¯hsCl›Á
::~RaahsClient()

40 
R¯hsCl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

41 
Time
 & 
d–ay
)

43 
ušt32_t
 
	g¿‹s
[] =

50 
ušt32_t
 
	g¿‹s_size
 = (
¿‹s
) / (rates[0]);

53 
	gmsd
 = 
MPEG_FRAMES_PER_SEGMENT
 * 
MPEG_TIME_BETWEEN_FRAMES
 / 1000.0;

54 
	gsá
 = 
G‘Segm’tF‘chTime
();

56 
	gmi
 = 
msd
 / 
sá
;

58 
	gt_mš
 = 9;

60 
	g•sÚ
 = 0.0;

61 
ušt32_t
 
	gi
;

62 
	gi
 = 0; i < 
	g¿‹s_size
 - 1; i++)

64 
	g•sÚ
 = 
¡d
::
max
(
•sÚ
, (1.0 * 
¿‹s
[
i
 + 1] -„ates[i]) /„ates[i]);

67 
	ggamma_d
 = 0.67;

69 
	g¿‹Ind
 = 
¿‹s_size
;

70 
ušt32_t
 
	gi
 = 0; i < 
	g¿‹s_size
; i++)

72 ià(
	g¿‹s
[
i
] =ğ
cu¼R©e
)

74 
¿‹Ind
 = 
i
;

78 ià(
	g¿‹Ind
 =ğ
¿‹s_size
)

80 
NS_FATAL_ERROR
("Wrong„ate");

83 ià(
	gmi
 > 1 + 
	g•sÚ
)

85 ià(
	g¿‹Ind
 < 
	g¿‹s_size
 - 1)

87 
	gÃxtR©e
 = 
¿‹s
[()
¿‹Ind
 + 1];

90 ià(
	gmi
 < 
	ggamma_d
)

92 
	gi
 = 
¿‹Ind
 - 1;

93 
	gi
 = 0; i < 
	g¿‹Ind
 - 1; i--)

95 ià(
	g¿‹s
[
i
] < 
mi
 * 
	gcu¼R©e
)

97 
	gÃxtR©e
 = 
¿‹s
[
i
];

107 
	gts
 = 
G‘BufãrE¡im©e
(è- 
t_mš
 - 
cu¼R©e
 * 
msd
 / 
¿‹s
[0];

109 ià(
	gts
 > 0)

111 
	gd–ay
 = 
SecÚds
(
ts
);

115 
	gd–ay
 = 
SecÚds
(0);

	@model/algorithms/raahs-client.h

8 #iâdeà
RAAHS_CLIENT_H_


9 
	#RAAHS_CLIENT_H_


	)

11 
	~<ns3/dash-ş›Á.h
>

12 
Çme¥aû
 
	gns3


15 şas 
	cR¯hsCl›Á
 : 
public
 
DashCl›Á


17 
public
:

18 
Ty³Id


19 
G‘Ty³Id
();

21 
R¯hsCl›Á
();

23 
	gvœtu®


24 ~
R¯hsCl›Á
();

26 
vœtu®
 

27 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

29 
	g´iv©e
:

	@model/algorithms/sftm-client.cc

8 
	~"sám-ş›Á.h
"

9 
	~<ns3/log.h
>

10 
	~<ns3/simuÏtÜ.h
>

11 
	~<ns3/dash-ş›Á.h
>

13 
NS_LOG_COMPONENT_DEFINE
("SftmClient");

15 
Çme¥aû
 
	gns3


17 
NS_OBJECT_ENSURE_REGISTERED
(
SámCl›Á
);

19 
Ty³Id


20 
	gSámCl›Á
::
G‘Ty³Id
()

22 
Ty³Id
 
tid
 =

23 
Ty³Id
("ns3::SámCl›Á").
S‘P¬’t
<
DashCl›Á
>().
AddCÚ¡ruùÜ
<

24 
SámCl›Á
>();

25  
	gtid
;

28 
	gSámCl›Á
::
SámCl›Á
() :

29 
m_rsá_exûeded
(
çl£
)

35 
SámCl›Á
::~SftmClient()

41 
SámCl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

42 
Time
 & 
d–ay
)

44 
ušt32_t
 
	g¿‹s
[] =

51 
ušt32_t
 
	g¿‹s_size
 = (
¿‹s
) / (rates[0]);

54 
	gmsd
 = 
MPEG_FRAMES_PER_SEGMENT
 * 
MPEG_TIME_BETWEEN_FRAMES
 / 1000.0;

55 
	gsá
 = 
G‘Segm’tF‘chTime
();

56 
	gtbmt
 = 
m_rg‘_dt
.
G‘SecÚds
();

57 
	gts_ns
 = 
m_£gm’tId
 * 
msd
;

58 
	gts_o
 = 
G‘PÏy”
().
m_äamesPÏyed
 * 
MPEG_TIME_BETWEEN_FRAMES


60 
	grsá
 = 
ts_ns
 - 
ts_o
 - 
tbmt
;

61 
	grho
 = 0.75;

63 
	grsá_s
 = 
rho
 * 
msd
;

64 ià(
	grsá
 < 
	grsá_s
 && !
	gm_rsá_exûeded
)

66 
	grsá
 = 
rsá_s
;

70 
	gm_rsá_exûeded
 = 
Œue
;

73 
	gsám
 = 
¡d
::
mš
(
msd
, 
rsá
è/ 
	gsá
;

75 
ušt32_t
 
	g¿‹Ind
 = 
¿‹s_size
;

76 
ušt32_t
 
	gi
 = 0; i < 
	g¿‹s_size
; i++)

78 ià(
	g¿‹s
[
i
] =ğ
cu¼R©e
)

80 
¿‹Ind
 = 
i
;

84 ià(
	g¿‹Ind
 =ğ
¿‹s_size
)

86 
NS_FATAL_ERROR
("Wrong„ate");

89 
	gec_u
 =

90 
¿‹Ind
 < 
¿‹s_size
 - 1 ?

91 (1.0 * 
¿‹s
[
¿‹Ind
 + 1] -„ates[rateInd]) /„ates[rateInd] :

92 
¡d
::
num”ic_lim™s
<>::
max
();

94 
	gemax_u
 = 0;

95 
ušt32_t
 
	gi
 = 0; i < 
	g¿‹s_size
 - 1; i++)

97 
	ge
 = (1.0 * 
¿‹s
[
i
 + 1] -„ates[i]) /„ates[i];

98 
	gemax_u
 = 
¡d
::
max
(
emax_u
, 
e
);

101 
	ge_u
 = 
¡d
::
mš
(
emax_u
, 2 * 
ec_u
);

103 
	gec_d
 =

104 
¿‹Ind
 > 0 ?

105 (1.0 * 
¿‹s
[
¿‹Ind
] -„ates[rateInd - 1]) /„ates[rateInd] : 1.0;

107 
	gemš_d
 = 
¡d
::
num”ic_lim™s
<>::
max
();

108 
ušt32_t
 
	gi
 = 1; i < 
	g¿‹s_size
; i++)

110 
	ge
 = (1.0 * 
¿‹s
[
i
] -„ates[i - 1]) /„ates[i];

111 
	gemš_d
 = 
¡d
::
mš
(
emš_d
, 
e
);

114 
	ge_d
 = 
¡d
::
max
(2 * 
emš_d
, 
ec_d
);

116 ià(
	gsám
 > 1 + 
	ge_u
 && 
	g¿‹Ind
 < 
	g¿‹s_size
 - 1)

118 
	gÃxtR©e
 = 
¿‹s
[
¿‹Ind
 + 1];

120 ià(
	gsám
 < 1 - 
	ge_d
 && 
	g¿‹Ind
 != 0)

122 
ušt32_t
 
i
 = 0; 
	gi
 < 
	g¿‹Ind
; i++)

124 ià(
	g¿‹s
[
i
] >ğ
sám
 * 
¿‹s
[
¿‹Ind
])

128 
	gÃxtR©e
 = 
¿‹s
[
i
];

132 
	gbmt_mš
 = 0;

133 
	gbmt_c
 = 
G‘BufãrE¡im©e
();

134 
	gb_max
 = 
¿‹s
[
¿‹s_size
 - 1];

135 
	gb_mš
 = 
¿‹s
[0];

136 
	gt_id
 = 
bmt_c
 - 
bmt_mš
 - 
msd
 * 
b_max
 / 
b_mš
;

138 ià(
	gt_id
 > 0)

140 
	gd–ay
 = 
SecÚds
(
t_id
);

144 
	gd–ay
 = 
SecÚds
(0);

	@model/algorithms/sftm-client.h

8 #iâdeà
SFTM_CLIENT_H_


9 
	#SFTM_CLIENT_H_


	)

11 
	~<ns3/dash-ş›Á.h
>

12 
Çme¥aû
 
	gns3


15 şas 
	cSámCl›Á
 : 
public
 
DashCl›Á


17 
public
:

18 
Ty³Id


19 
G‘Ty³Id
();

21 
SámCl›Á
();

23 
	gvœtu®


24 ~
SámCl›Á
();

26 
vœtu®
 

27 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

29 
	g´iv©e
:

30 
boŞ
 
m_rsá_exûeded
;

	@model/algorithms/svaa-client.cc

8 
	~"sv¯-ş›Á.h
"

9 
	~<ns3/log.h
>

10 
	~<ns3/simuÏtÜ.h
>

11 
	~<ns3/dash-ş›Á.h
>

13 
NS_LOG_COMPONENT_DEFINE
("SvaaClient");

15 
Çme¥aû
 
	gns3


17 
NS_OBJECT_ENSURE_REGISTERED
(
Sv¯Cl›Á
);

19 
Ty³Id


20 
	gSv¯Cl›Á
::
G‘Ty³Id
()

22 
Ty³Id
 
tid
 =

23 
Ty³Id
("ns3::Sv¯Cl›Á").
S‘P¬’t
<
DashCl›Á
>().
AddCÚ¡ruùÜ
<

24 
Sv¯Cl›Á
>();

25  
	gtid
;

28 
	gSv¯Cl›Á
::
Sv¯Cl›Á
() :

29 
m_m_k_1
(0), 
m_m_k_2
(0), 
m_couÁ”
(0)

35 
	gSv¯Cl›Á
::~
Sv¯Cl›Á
()

41 
Sv¯Cl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

42 
Time
 & 
d–ay
)

44 
ušt32_t
 
	g¿‹s
[] =

49 
ušt32_t
 
	g¿‹s_size
 = (
¿‹s
) / (rates[0]);

50 
	gdiff
 = 
G‘BufãrDifã»ÁŸl
();

52 
	gq_tk
 = 
G‘BufãrE¡im©e
();

53 
	gq_»f
 = 
m_rg‘_dt
.
G‘SecÚds
();

54 
	gp
 = 1.0;

55 
	gf_q
 = 2 * 
¡d
::
exp
(
p
 * (
q_tk
 - 
q_»f
))

56 / (1 + 
¡d
::
exp
(
p
 * (
q_tk
 - 
q_»f
)));

57 
	gd–
 = 
MPEG_TIME_BETWEEN_FRAMES
 * 
MPEG_FRAMES_PER_SEGMENT
 / 1000.0;

58 
	gf_t
 = 
d–
 / (d– - 
diff
);

59 
	gf_u
 = 1;

61 
	gf
 = 
f_q
 * 
f_t
 * 
f_u
;

63 
	gt_k
 = 
m_b™¿‹E¡im©e
;

65 
	gu_k
 = 
f
 * 
t_k
;

67 
	gm_k
 = 0;

68 ià(
	gdiff
 >ğ0.4 * 
d–
)

70 
m_k
 = 1;

72 ià(
	gdiff
 >ğ0.2 * 
d–
)

74 
m_k
 = 5;

76 ià(
	gdiff
 >= 0)

78 
m_k
 = 15;

82 
	gm_k
 = 20;

85 
	gm
 = (
m_k
 + 
m_m_k_1
 + 
m_m_k_2
) / 3;

86 
	gm_m_k_2
 = 
m_m_k_1
;

87 
	gm_m_k_1
 = 
m_k
;

89 ià(
	gq_tk
 < 
	gq_»f
 / 2)

91 
	gi
 = 
¿‹s_size
 - 1;

92 
	g¿‹s
[
i
] > 
	gt_k
 && 
	gi
 > 0)

94 
	gi
--;

96 
	gÃxtR©e
 = 
¿‹s
[
i
];

97 
	gd–ay
 = 
SecÚds
(0);

100 ià(
	gu_k
 > 
	gcu¼R©e
)

102 
	gm_couÁ”
++;

103 ià(
	gm_couÁ”
 > 
	gm
)

105 
	gi
 = 
¿‹s_size
 - 1;

106 
	g¿‹s
[
i
] > 
	gt_k
 && 
	gi
 > 0)

108 
	gi
--;

110 
	gÃxtR©e
 = 
¿‹s
[
i
];

111 
	gd–ay
 = 
SecÚds
(0);

112 
	gm_couÁ”
 = 0;

116 ià(
	gu_k
 < 
	gcu¼R©e
)

118 
	gm_couÁ”
 = 0;

120 
	gÃxtR©e
 = 
cu¼R©e
;

121 
	gd–ay
 = 
SecÚds
(0);

	@model/algorithms/svaa-client.h

8 #iâdeà
SVAA_CLIENT_H_


9 
	#SVAA_CLIENT_H_


	)

11 
	~<ns3/dash-ş›Á.h
>

12 
Çme¥aû
 
	gns3


15 şas 
	cSv¯Cl›Á
 : 
public
 
DashCl›Á


17 
public
:

18 
Ty³Id


19 
G‘Ty³Id
();

21 
Sv¯Cl›Á
();

23 
	gvœtu®


24 ~
Sv¯Cl›Á
();

26 
vœtu®
 

27 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

29 
	g´iv©e
:

30 
m_m_k_1
;

31 
	gm_m_k_2
;

32 
	gm_couÁ”
;

	@model/dash-client.cc

21 
	~<ns3/log.h
>

22 
	~<ns3/uš‹g”.h
>

23 
	~<ns3/tı-sock‘-çùÜy.h
>

24 
	~<ns3/simuÏtÜ.h
>

25 
	~<ns3/š‘-sock‘-add»ss.h
>

26 
	~<ns3/š‘6-sock‘-add»ss.h
>

27 
	~"h‰p-h—d”.h
"

28 
	~"dash-ş›Á.h
"

29 
	~"·¿.h
"

30 
	~<cm©h
>

31 
	~<f¡»am
>

32 
	~<¡dlib.h
>

33 
	~<s¡»am
>

34 
	~<iomª
>

36 
NS_LOG_COMPONENT_DEFINE
("DashClient");

37 
usšg
 
Çme¥aû
 
	g¡d
;

39 
	gveùÜ
 <> 
	gvideo_num
;

40 
	gveùÜ
<veùÜ<>> 
	gvideo_£r›s
;

41 
	gš™_bufãr
;

42 
	g£g_Ëngth
;

43 
	gveùÜ
<veùÜ<veùÜ<>>> 
	g´obs
;

44 
	gveùÜ
<veùÜ<>> 
	gbrs
;

45 
	gveùÜ
<veùÜ<>> 
	gdi¡s
;

46 
	gveùÜ
<veùÜ<veùÜ<>>> 
	gvideo_size
;

47 
	gveùÜ
<veùÜ<veùÜ<>>> 
	g´ed_šfo
;

48 
	gveùÜ
<veùÜ<veùÜ<>>> 
	ggt_šfo
;

49 
	gveùÜ
<
	g¡ršg
> 
	gvideo_Çmes
;

50 
	gveùÜ
<veùÜ<>> 
	gu£r_šfo
;

51 
	g¡d
::
¡ršg
 
te_cŞ
, 
	gte_row
;

52 
	g¡d
::
¡ršg
 
ex³rim’t_dœ
;

53 
	g¡d
::
¡ršg
 
ã©u»_dœ
;

54 
	g¡d
::
¡ršg
 
video_šfo_dœ
="";

55 
	g¡d
::
¡ršg
 
´ob_dœ
="";

56 
	g¡d
::
¡ršg
 
´ob_ov”®l_dœ
="";

57 
	g¡d
::
¡ršg
 
u£r_šfo_fe
="";

58 
	g¡d
::
¡ršg
 
¬—_dœ
="";

59 
	grho
;

60 
	gM
;

61 
	gte_num
;

63 
Çme¥aû
 
	gns3


66 
NS_OBJECT_ENSURE_REGISTERED
(
DashCl›Á
);

68 
	gDashCl›Á
::
m_couÁObjs
 = 0;

70 
Ty³Id


71 
	gDashCl›Á
::
G‘Ty³Id
()

73 
Ty³Id
 
tid
 =

74 
Ty³Id
("ns3::DashCl›Á").
S‘P¬’t
<
AµliÿtiÚ
>().
AddCÚ¡ruùÜ
<

75 
DashCl›Á
>().
AddA‰ribu‹
("VideoId",

76 "ThId oàthvideØth© i ¶ayed.", 
Uš‹g”V®ue
(0),

77 
MakeUš‹g”AcûssÜ
(&
DashCl›Á
::
m_videoId
),

78 
MakeUš‹g”Check”
<
ušt32_t
>(1)).
AddA‰ribu‹
("Remote",

79 "Thadd»s oàthde¡š©iÚ", 
Add»ssV®ue
(),

80 
MakeAdd»ssAcûssÜ
(&
DashCl›Á
::
m_³”
), 
MakeAdd»ssCheck”
()).
AddA‰ribu‹
(

82 
Ty³IdV®ue
(
TıSock‘FaùÜy
::
G‘Ty³Id
()),

83 
MakeTy³IdAcûssÜ
(&
DashCl›Á
::
m_tid
), 
MakeTy³IdCheck”
()).
AddA‰ribu‹
(

84 "T¬g‘Dt", "Thrg‘ bufãršgime", 
TimeV®ue
(
Time
("35s")),

85 
MakeTimeAcûssÜ
(&
DashCl›Á
::
m_rg‘_dt
), 
MakeTimeCheck”
()).
AddA‰ribu‹
(

87 
TimeV®ue
(
Time
("10s")), 
MakeTimeAcûssÜ
(&
DashCl›Á
::
m_wšdow
),

88 
MakeTimeCheck”
()

90 ).
AddT¿ûSourû
("Tx", "A‚ew…acket is created‡nd is sent",

91 
MakeT¿ûSourûAcûssÜ
(&
DashCl›Á
::
m_txT¿û
));

92  
	gtid
;

95 
	gDashCl›Á
::
DashCl›Á
() :

96 
m_¿‹Chªges
(0), 
m_rg‘_dt
("35s"), 
m_b™¿‹E¡im©e
(0.0), 
m_£gm’tId
(

97 0), 
m_sock‘
(0), 
m_cÚÃùed
(
çl£
), 
m_tÙBy‹s
(0), 
m_¡¬‹dReûivšg
(

98 
SecÚds
(0)), 
m_sumDt
(SecÚds(0)), 
m_Ï¡Dt
(SecÚds(-1)), 
m_id
(

99 
m_couÁObjs
++), 
m_»que¡Time
("0s"), 
m_£gm’t_by‹s
(0), 
m_b™R©e
(

100 50000), 
m_wšdow
(
SecÚds
(10)), 
m_£gm’tF‘chTime
(Seconds(0))

102 
NS_LOG_FUNCTION
(
this
);

103 
	gm_·r£r
.
S‘Aµ
(
this
);

106 
	gDashCl›Á
::~
DashCl›Á
()

108 
NS_LOG_FUNCTION
(
this
);

111 
	gPŒ
<
	gSock‘
>

112 
	gDashCl›Á
::
G‘Sock‘
() const

114 
NS_LOG_FUNCTION
(
this
);

115  
	gm_sock‘
;

119 
	gDashCl›Á
::
DoDi¥o£
()

121 
NS_LOG_FUNCTION
(
this
);

123 
	gm_sock‘
 = 0;

125 
	gAµliÿtiÚ
::
DoDi¥o£
();

130 
	gDashCl›Á
::
S¹AµliÿtiÚ
()

132 
NS_LOG_FUNCTION
(
this
);

136 ià(!
	gm_sock‘
)

138 
	gm_sock‘
 = 
Sock‘
::
C»©eSock‘
(
G‘Node
(), 
m_tid
);

141 ià(
	gm_sock‘
->
G‘Sock‘Ty³
(è!ğ
Sock‘
::
NS3_SOCK_STREAM


142 && 
m_sock‘
->
G‘Sock‘Ty³
(è!ğ
Sock‘
::
NS3_SOCK_SEQPACKET
)

144 
NS_FATAL_ERROR
("Using HTTP with‡n incompatible socketype. "

149 ià(
	gIÃt6Sock‘Add»ss
::
IsM©chšgTy³
(
m_³”
))

151 
m_sock‘
->
Bšd6
();

153 ià(
	gIÃtSock‘Add»ss
::
IsM©chšgTy³
(
m_³”
))

155 
m_sock‘
->
Bšd
();

158 
	gm_sock‘
->
CÚÃù
(
m_³”
);

159 
	gm_sock‘
->
S‘RecvC®lback
(
MakeC®lback
(&
DashCl›Á
::
HªdËR—d
, 
this
));

160 
	gm_sock‘
->
S‘CÚÃùC®lback
(

161 
MakeC®lback
(&
DashCl›Á
::
CÚÃùiÚSucûeded
, 
this
),

162 
MakeC®lback
(&
DashCl›Á
::
CÚÃùiÚFaed
, 
this
));

163 
	gm_sock‘
->
S‘S’dC®lback
(
MakeC®lback
(&
DashCl›Á
::
D©aS’d
, 
this
));

168 
	gDashCl›Á
::
StİAµliÿtiÚ
()

170 
NS_LOG_FUNCTION
(
this
);

172 ià(
	gm_sock‘
 != 0)

174 
m_sock‘
->
Clo£
();

175 
	gm_cÚÃùed
 = 
çl£
;

176 
	gm_¶ay”
.
	gm_¡©e
 = 
MPEG_PLAYER_DONE
;

180 
NS_LOG_WARN
("DashClient found‚ull socketo close in StopApplication");

186 
	gDashCl›Á
::
Reque¡Segm’t
()

188 
NS_LOG_FUNCTION
(
this
);

190 ià(
	gm_cÚÃùed
 =ğ
çl£
)

196 
	gsum_by‹s
=0;

197 
	gcout
<<
	gm_id
<<": "<<
	gm_£gm’tId
<<
	g’dl
;

198 
	g¡d
::
¡ršg¡»am
 
s_mid
;

199 
	gs_mid
 << 
	gm_id
;

201 
	g¡d
::
¡ršg¡»am
 
tmpu
;

202 
	gtmpu
 << 
	g¡d
::
£tw
(2è<< 
¡d
::
£tfl
('0'è<< 
u£r_šfo
[
m_id
][1];

203 
	g¡d
::
¡ršg
 
cur_u£r
 = 
tmpu
.
¡r
();

204 
	g¡d
::
¡ršg
 
u
;

205 
	gu
="u£r"+
cur_u£r
;

206 
	gi
;

230 if(
	gm_£gm’tId
==0){

231 
sum_by‹s
+=
video_size
[
u£r_šfo
[
m_id
][0]][
m_£gm’tId
][0];

232 
	gsum_by‹s
+=
video_size
[
u£r_šfo
[
m_id
][0]][
m_£gm’tId
][1];

233 }if(
	gm_£gm’tId
==1){

234 
i
=0;
	gi
<
	gte_num
; i++){

235 if(
	ggt_šfo
[
m_id
][(
m_£gm’tId
-1)][
i
]>=
rho
){

236 
sum_by‹s
+=
video_size
[
u£r_šfo
[
m_id
][0]][
m_£gm’tId
][
i
];

239 
	g´obs
[
m_id
][
m_£gm’tId
]=
gt_šfo
[m_id][(m_segmentId-1)];

241 
	gi
=0; i<
	gte_num
; i++){

242 if(
	g´ed_šfo
[
m_id
][(
m_£gm’tId
-2)][
i
]>=
rho
){

243 
sum_by‹s
+=
video_size
[
u£r_šfo
[
m_id
][0]][
m_£gm’tId
][
i
];

246 
	g´obs
[
m_id
][
m_£gm’tId
]=
´ed_šfo
[m_id][(m_segmentId-2)];

248 
	gsum_by‹s
 = 
sum_by‹s
/8.0;

249 
	gsum_by‹s
 = 
sum_by‹s
/1288.0;

251 
	g·ck‘_numb”
=0;

252 ià(
	gsum_by‹s
-(sum_bytes) ==0)

253 
·ck‘_numb”
 = (
sum_by‹s
);

255 
	g·ck‘_numb”
 = (
sum_by‹s
)+1;

258 
	gvideo_£r›s
[
m_id
][
m_£gm’tId
]=
·ck‘_numb”
;

260 
	gPŒ
<
	gPack‘
> 
	g·ck‘
 = 
C»©e
<
Pack‘
>(100);

262 
HTTPH—d”
 
	gh‰pH—d”
;

263 
	gh‰pH—d”
.
S‘Seq
(1);

264 
	gh‰pH—d”
.
S‘Mes§geTy³
(
HTTP_REQUEST
);

265 
	gh‰pH—d”
.
S‘VideoId
(
m_videoId
);

266 
	gh‰pH—d”
.
S‘ResŞutiÚ
(
m_b™R©e
);

267 
	gh‰pH—d”
.
S‘Segm’tId
(
m_£gm’tId
++);

268 
	gh‰pH—d”
.
S‘Pack‘Num
(
·ck‘_numb”
);

269 
	g·ck‘
->
AddH—d”
(
h‰pH—d”
);

272 
	g»s
 = 0;

273 ià(((è(
	g»s
 = 
m_sock‘
->
S’d
(
·ck‘
))è!ğ·ck‘->
G‘Size
())

275 
NS_FATAL_ERROR
(

276 "Oh oh. Couldn'ˆ£nd…ack‘!„es=" << 
»s
 << " size=" << 
·ck‘
->
G‘Size
());

279 
	gm_»que¡Time
 = 
SimuÏtÜ
::
Now
();

280 
	gm_£gm’t_by‹s
 = 0;

285 
	gDashCl›Á
::
HªdËR—d
(
PŒ
<
Sock‘
> 
sock‘
)

287 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);

289 
	gm_·r£r
.
R—dSock‘
(
sock‘
);

294 
	gDashCl›Á
::
CÚÃùiÚSucûeded
(
PŒ
<
Sock‘
> 
sock‘
)

296 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);

297 
NS_LOG_LOGIC
("DashClient Connection succeeded");

298 
	gm_cÚÃùed
 = 
Œue
;

299 
Reque¡Segm’t
();

303 
	gDashCl›Á
::
CÚÃùiÚFaed
(
PŒ
<
Sock‘
> 
sock‘
)

305 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);
NS_LOG_LOGIC
(

310 
	gDashCl›Á
::
D©aS’d
(
PŒ
<
Sock‘
>, 
ušt32_t
)

312 
NS_LOG_FUNCTION
(
this
);

314 ià(
	gm_cÚÃùed
)

317 
NS_LOG_INFO
("Something was sent");

322 
NS_LOG_INFO
("NOT CONNECTED!!!!");

327 
	gDashCl›Á
::
Mes§geReûived
(
Pack‘
 
mes§ge
)

332 
MPEGH—d”
 
m³gH—d”
;

333 
HTTPH—d”
 
	gh‰pH—d”
;

335 
	gäame_num
++;

339 
	gm_¶ay”
.
ReûiveF¿me
(&
mes§ge
);

340 
	gm_¶ay”
.
G‘ID
(
m_id
);

341 
	gm_£gm’t_by‹s
 +ğ
mes§ge
.
G‘Size
();

342 
	gm_tÙBy‹s
 +ğ
mes§ge
.
G‘Size
();

346 if(
	gäame_num
==
video_£r›s
[
m_id
][
v_num
]){

352 
v_num
++;

353 if(
	gv_num
!=()
video_£r›s
[
m_id
].
size
())

354 
tmp_num
=
äame_num
;

355 
	gäame_num
=0;

356 
	g£g_num
++;

360 ià(
	g£g_num
==(5/
£g_Ëngth
))

364 
DashCl›Á
::
StİAµliÿtiÚ
();

366 
	gmes§ge
.
RemoveH—d”
(
m³gH—d”
);

367 
	gmes§ge
.
RemoveH—d”
(
h‰pH—d”
);

371 
	gm_¶ay”
.
	gm_¡©e
)

373 
	gMPEG_PLAYER_PLAYING
:

374 
m_sumDt
 +ğ
m_¶ay”
.
G‘R—lPÏyTime
(
m³gH—d”
.
G‘PÏybackTime
());

376 
	gMPEG_PLAYER_PAUSED
:

378 
	gMPEG_PLAYER_DONE
:

380 
	gMPEG_PLAYER_NOT_STARTED
:

383 
NS_FATAL_ERROR
("WRONG STATE");

388 if(
	gv_num
>0 && (
	gtmp_num
 =ğ
video_£r›s
[
m_id
][
v_num
-1]))

390 
tmp_num
=0;

395 
	gm_£gm’tF‘chTime
 = 
SimuÏtÜ
::
Now
(è- 
m_»que¡Time
;

396 
NS_LOG_INFO
(

397 
SimuÏtÜ
::
Now
().
G‘SecÚds
(è<< " by‹s: " << 
m_£gm’t_by‹s
 << " segm’tTime: " << 
m_£gm’tF‘chTime
.GetSeconds() << " segmentRate: " << 8 * m_segment_bytes / m_segmentFetchTime.GetSeconds());

399 
AddB™R©e
(
SimuÏtÜ
::
Now
(),

400 8 * 
m_£gm’t_by‹s
 / 
m_£gm’tF‘chTime
.
G‘SecÚds
());

402 
Time
 
	gcu¼Dt
 = 
m_¶ay”
.
G‘R—lPÏyTime
(
m³gH—d”
.
G‘PÏybackTime
());

404 
LogBufãrLev–
(
cu¼Dt
);

406 
ušt32_t
 
	gŞd
 = 
m_b™R©e
;

409 
Time
 
	gbufãrD–ay
;

414 
ušt32_t
 
	g´evB™¿‹
 = 
m_b™R©e
;

423 
	gDashCl›Á
::
C®cNextSegm’t
(
´evB™¿‹
, 
m_b™R©e
, 
bufãrD–ay
);

425 ià(
	g´evB™¿‹
 !ğ
m_b™R©e
)

427 
m_¿‹Chªges
++;

430 ià(
	gbufãrD–ay
 =ğ
SecÚds
(0))

432 
Reque¡Segm’t
();

436 
	gm_¶ay”
.
SchduËBufãrWakeup
(
bufãrD–ay
, 
this
);

459 
NS_LOG_INFO
(

460 "===ğLa¡ f¿m»ûived. Reque¡šg segm’ˆ" << 
m_£gm’tId
);

463 
NS_LOG_INFO
(

464 "!@#$#@!$@#\t" << 
SimuÏtÜ
::
Now
().
G‘SecÚds
(è<< " old: " << 
Şd
 << "‚ew: " << 
m_b™R©e
 << ": " << 
cu¼Dt
.G‘SecÚds(è<< " dt: " << (cu¼Dˆ- 
m_Ï¡Dt
).GetSeconds());

466 
	gm_Ï¡Dt
 = 
cu¼Dt
;

473 
	gDashCl›Á
::
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
,

474 
Time
 & 
d–ay
)

482 
	gÃxtR©e
 = 
cu¼R©e
;

483 
	gd–ay
 = 
SecÚds
(0);

487 
	gDashCl›Á
::
G‘Sts
()

489 
¡d
::
cout
 << " InterruptionTime: "

490 << 
m_¶ay”
.
m_š‹¼u±iÚ_time
.
G‘SecÚds
() << " interruptions: "

491 << 
m_¶ay”
.
m_š‹¼ru±iÚs
 << "‡vgRate: "

492 << (1.0 * 
m_¶ay”
.
m_tÙ®R©e
è/ m_¶ay”.
m_äamesPÏyed


493 << " mšR©e: " << 
m_¶ay”
.
m_mšR©e
 << " AvgDt: "

494 << 
m_sumDt
.
G‘SecÚds
(è/ 
m_¶ay”
.
m_äamesPÏyed
 << " changes: "

495 << 
m_¿‹Chªges
 << 
¡d
::
’dl
;

500 
	gDashCl›Á
::
LogBufãrLev–
(
Time
 
t
)

502 
m_bufãrS‹
[
SimuÏtÜ
::
Now
()] = 
t
;

503 
	g¡d
::
m­
<
Time
, 
	gTime
>::
™”©Ü
 
™
 = 
m_bufãrS‹
.
begš
();

504 
	g™
 !ğ
m_bufãrS‹
.
’d
(); ++it)

506 ià(
	g™
->
	gfœ¡
 < (
	gSimuÏtÜ
::
Now
(è- 
m_wšdow
))

508 
m_bufãrS‹
.
”a£
(
™
->
fœ¡
);

514 
	gDashCl›Á
::
G‘BufãrE¡im©e
()

516 
sum
 = 0;

517 
	gcouÁ
 = 0;

518 
	g¡d
::
m­
<
Time
, 
	gTime
>::
™”©Ü
 
™
 = 
m_bufãrS‹
.
begš
();

519 
	g™
 !ğ
m_bufãrS‹
.
’d
(); ++it)

521 
	gsum
 +ğ
™
->
£cÚd
.
G‘SecÚds
();

522 
	gcouÁ
++;

524  
	gsum
 / 
	gcouÁ
;

528 
	gDashCl›Á
::
G‘BufãrDifã»ÁŸl
()

530 
¡d
::
m­
<
Time
, 
	gTime
>::
™”©Ü
 
™
 = 
m_bufãrS‹
.
’d
();

532 ià(
	g™
 =ğ
m_bufãrS‹
.
begš
())

537 
	g™
--;

538 
Time
 
	gÏ¡
 = 
™
->
£cÚd
;

540 ià(
	g™
 =ğ
m_bufãrS‹
.
begš
())

545 
	g™
--;

546 
Time
 
	g´ev
 = 
™
->
£cÚd
;

547  (
	gÏ¡
 - 
	g´ev
).
G‘SecÚds
();

551 
	gDashCl›Á
::
G‘Segm’tF‘chTime
()

553  
m_£gm’tF‘chTime
.
G‘SecÚds
();

557 
	gDashCl›Á
::
AddB™R©e
(
Time
 
time
, 
b™¿‹
)

559 
	gm_b™¿‹s
[
time
] = 
b™¿‹
;

560 
	gsum
 = 0;

561 
	gcouÁ
 = 0;

562 
	g¡d
::
m­
<
Time
, >::
™”©Ü
 
™
 = 
m_b™¿‹s
.
begš
();

563 
	g™
 !ğ
m_b™¿‹s
.
’d
(); ++it)

565 ià(
	g™
->
	gfœ¡
 < (
	gSimuÏtÜ
::
Now
(è- 
m_wšdow
))

567 
m_b™¿‹s
.
”a£
(
™
->
fœ¡
);

571 
	gsum
 +ğ
™
->
£cÚd
;

572 
	gcouÁ
++;

575 
	gm_b™¿‹E¡im©e
 = 
sum
 / 
couÁ
;

	@model/dash-client.h

21 #iâdeà
DASH_CLIENT_H


22 
	#DASH_CLIENT_H


	)

24 
	~"ns3/­¶iÿtiÚ.h
"

25 
	~"ns3/±r.h
"

26 
	~"ns3/sock‘.h
"

27 
	~"m³g-¶ay”.h
"

28 
	~"ns3/Œaûd-ÿÎback.h
"

29 
	~"h‰p-·r£r.h
"

32 
Çme¥aû
 
	gns3


60 şas 
	cDashCl›Á
 : 
public
 
AµliÿtiÚ


62 
ä›nd
 
şass
 
M³gPÏy”
;

63 
ä›nd
 
şass
 
	gH‰pP¬£r
;

64 
	gpublic
:

65 
Ty³Id


66 
G‘Ty³Id
();

68 
DashCl›Á
();

70 
	gvœtu®


71 ~
DashCl›Á
();

76 
	gPŒ
<
	gSock‘
>

77 
G‘Sock‘
() const;

83 
G‘Sts
();

90 
šlše
 
	gM³gPÏy”
 &

91 
G‘PÏy”
()

93  
	gm_¶ay”
;

96 
	g´Ùeùed
:

97 
vœtu®
 

98 
DoDi¥o£
();

100 
šlše


101 
G‘B™R©eE¡im©e
()

103  
	gm_b™¿‹E¡im©e
;

106 
G‘BufãrDifã»ÁŸl
();

109 
AddB™R©e
(
Time
 
time
, 
b™¿‹
);

112 
G‘BufãrE¡im©e
();

115 
G‘Segm’tF‘chTime
();

117 
	g¡d
::
m­
<
Time
, 
	gTime
> 
	gm_bufãrS‹
;

118 
ušt32_t
 
	gm_¿‹Chªges
;

119 
Time
 
	gm_rg‘_dt
;

120 
	g¡d
::
m­
<
Time
, > 
	gm_b™¿‹s
;

121 
	gm_b™¿‹E¡im©e
;

122 
ušt32_t
 
	gm_£gm’tId
;

124 
	g´iv©e
:

132 
Reque¡Segm’t
();

141 
Mes§geReûived
(
Pack‘
 
mes§ge
);

144 
vœtu®
 

145 
S¹AµliÿtiÚ
();

146 
vœtu®
 

147 
StİAµliÿtiÚ
();

149 
CÚÃùiÚSucûeded
(
PŒ
<
Sock‘
> 
sock‘
);

151 
CÚÃùiÚFaed
(
PŒ
<
Sock‘
> 
sock‘
);

153 
D©aS’d
(
PŒ
<
Sock‘
>, 
ušt32_t
);

155 
HªdËR—d
(
PŒ
<
Sock‘
>);

156 
vœtu®
 

157 
C®cNextSegm’t
(
ušt32_t
 
cu¼R©e
, ušt32_ˆ& 
ÃxtR©e
, 
Time
 & 
d–ay
);

159 
LogBufãrLev–
(
Time
 
t
);

160 
šlše


161 
S‘Wšdow
(
Time
 
time
)

163 
	gm_wšdow
 = 
time
;

166 
M³gPÏy”
 
	gm_¶ay”
;

167 
H‰pP¬£r
 
	gm_·r£r
;

168 
	gPŒ
<
	gSock‘
> 
	gm_sock‘
;

169 
Add»ss
 
	gm_³”
;

170 
boŞ
 
	gm_cÚÃùed
;

171 
ušt32_t
 
	gm_tÙBy‹s
;

172 
Ty³Id
 
	gm_tid
;

173 
	gT¿ûdC®lback
<
	gPŒ
<cÚ¡ 
	gPack‘
> > 
	gm_txT¿û
;

174 
ušt32_t
 
	gm_videoId
;

175 
Time
 
	gm_¡¬‹dReûivšg
;

176 
Time
 
	gm_sumDt
;

177 
Time
 
	gm_Ï¡Dt
;

178 
	gm_couÁObjs
;

179 
	gm_id
;

180 
	gv_num
=0;

181 
	gäame_num
=0;

182 
	g£g_num
=0;

183 
	gæag
=0;

184 
	gtmp_num
=0;

185 
Time
 
	gm_»que¡Time
;

186 
ušt32_t
 
	gm_£gm’t_by‹s
;

187 
ušt32_t
 
	gm_b™R©e
;

188 
Time
 
	gm_wšdow
;

189 
Time
 
	gm_£gm’tF‘chTime
;

	@model/dash-server.cc

21 
	~"ns3/add»ss.h
"

22 
	~"ns3/add»ss-uts.h
"

23 
	~"ns3/log.h
"

24 
	~"ns3/š‘-sock‘-add»ss.h
"

25 
	~"ns3/š‘6-sock‘-add»ss.h
"

26 
	~"ns3/node.h
"

27 
	~"ns3/sock‘.h
"

28 
	~"ns3/udp-sock‘.h
"

29 
	~"ns3/simuÏtÜ.h
"

30 
	~"ns3/sock‘-çùÜy.h
"

31 
	~"ns3/·ck‘.h
"

32 
	~"ns3/Œaû-sourû-acûssÜ.h
"

33 
	~"ns3/udp-sock‘-çùÜy.h
"

34 
	~"dash-£rv”.h
"

35 
	~"h‰p-h—d”.h
"

36 
	~"m³g-h—d”.h
"

37 
	~<ns3/¿ndom-v¬ŸbË-¡»am.h
>

38 
	~<ns3/tı-sock‘.h
>

39 
	~<ns3/doubË.h
>

40 
	~"·¿.h
"

41 
usšg
 
Çme¥aû
 
	g¡d
;

44 
Çme¥aû
 
	gns3


46 
NS_LOG_COMPONENT_DEFINE
("DashServer");

47 
NS_OBJECT_ENSURE_REGISTERED
(
DashS”v”
);

49 
Ty³Id


50 
	gDashS”v”
::
G‘Ty³Id
()

52 
Ty³Id
 
tid
 =

53 
Ty³Id
("ns3::DashS”v”").
S‘P¬’t
<
AµliÿtiÚ
>().
AddCÚ¡ruùÜ
<

54 
DashS”v”
>().
AddA‰ribu‹
("Local",

55 "ThAdd»s Ú whichØBšdhrx sock‘.", 
Add»ssV®ue
(),

56 
MakeAdd»ssAcûssÜ
(&
DashS”v”
::
m_loÿl
), 
MakeAdd»ssCheck”
()).
AddA‰ribu‹
(

58 
Ty³IdV®ue
(
UdpSock‘FaùÜy
::
G‘Ty³Id
()),

59 
MakeTy³IdAcûssÜ
(&
DashS”v”
::
m_tid
), 
MakeTy³IdCheck”
()).
AddT¿ûSourû
(

61 
MakeT¿ûSourûAcûssÜ
(&
DashS”v”
::
m_rxT¿û
));

62  
	gtid
;

65 
	gDashS”v”
::
DashS”v”
()

67 
NS_LOG_FUNCTION
(
this
);

68 
	gm_sock‘
 = 0;

69 
	gm_tÙ®Rx
 = 0;

72 
	gDashS”v”
::~
DashS”v”
()

74 
NS_LOG_FUNCTION
(
this
);

77 
	gPŒ
<
	gSock‘
>

78 
	gDashS”v”
::
G‘Li¡’šgSock‘
() const

80 
NS_LOG_FUNCTION
(
this
);

81  
	gm_sock‘
;

84 
	g¡d
::
li¡
<
PŒ
<
Sock‘
> >

85 
DashS”v”
::
G‘Acû±edSock‘s
() const

87 
NS_LOG_FUNCTION
(
this
);

88  
	gm_sock‘Li¡
;

92 
	gDashS”v”
::
DoDi¥o£
()

94 
NS_LOG_FUNCTION
(
this
);

95 
	gm_sock‘
 = 0;

96 
	gm_sock‘Li¡
.
ş—r
();

99 
	gAµliÿtiÚ
::
DoDi¥o£
();

104 
	gDashS”v”
::
S¹AµliÿtiÚ
()

106 
NS_LOG_FUNCTION
(
this
);

108 ià(!
	gm_sock‘
)

110 
	gm_sock‘
 = 
Sock‘
::
C»©eSock‘
(
G‘Node
(), 
m_tid
);

111 
	gm_sock‘
->
Bšd
(
m_loÿl
);

112 
	gm_sock‘
->
Li¡’
();

114 ià(
	gadd»ssUts
::
IsMuÉiÿ¡
(
m_loÿl
))

116 
PŒ
<
UdpSock‘
> 
udpSock‘
 = 
DyÇmicCa¡
<UdpSock‘>(
m_sock‘
);

117 ià(
	gudpSock‘
)

120 
	gudpSock‘
->
MuÉiÿ¡JošGroup
(0, 
m_loÿl
);

124 
NS_FATAL_ERROR
("Error: joining multicast on‡‚on-UDP socket");

129 
	gm_sock‘
->
S‘RecvC®lback
(
MakeC®lback
(&
DashS”v”
::
HªdËR—d
, 
this
));

131 
	gm_sock‘
->
S‘Acû±C®lback
(

132 
MakeNuÎC®lback
<
boŞ
, 
PŒ
<
Sock‘
>, cÚ¡ 
Add»ss
 &>(),

133 
MakeC®lback
(&
DashS”v”
::
HªdËAcû±
, 
this
));

134 
	gm_sock‘
->
S‘Clo£C®lbacks
(

135 
MakeC®lback
(&
DashS”v”
::
HªdËP“rClo£
, 
this
),

136 
MakeC®lback
(&
DashS”v”
::
HªdËP“rE¼Ü
, 
this
));

140 
	gDashS”v”
::
StİAµliÿtiÚ
()

142 
NS_LOG_FUNCTION
(
this
);

143 !
	gm_sock‘Li¡
.
em±y
())

145 
	gPŒ
<
	gSock‘
> 
	gacû±edSock‘
 = 
m_sock‘Li¡
.
äÚt
();

146 
	gm_sock‘Li¡
.
pİ_äÚt
();

147 
	gacû±edSock‘
->
Clo£
();

149 ià(
	gm_sock‘
)

151 
	gm_sock‘
->
Clo£
();

152 
	gm_sock‘
->
S‘RecvC®lback
(
MakeNuÎC®lback
<, 
PŒ
<
Sock‘
> >());

157 
	gDashS”v”
::
HªdËR—d
(
PŒ
<
Sock‘
> 
sock‘
)

159 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);

160 
	gPŒ
<
	gPack‘
> 
	g·ck‘
;

161 
Add»ss
 
	gäom
;

162 (
	g·ck‘
 = 
sock‘
->
RecvFrom
(
äom
)))

164 ià(
·ck‘
->
G‘Size
() == 0)

168 
	gm_tÙ®Rx
 +ğ
·ck‘
->
G‘Size
();

170 
HTTPH—d”
 
	gh—d”
;

171 
	g·ck‘
->
RemoveH—d”
(
h—d”
);

175 
S’dSegm’t
(
h—d”
.
G‘VideoId
(), h—d”.
G‘ResŞutiÚ
(),

176 
h—d”
.
G‘Segm’tId
(),h—d”.
G‘Pack‘Num
(), 
sock‘
);

178 ià(
	gIÃtSock‘Add»ss
::
IsM©chšgTy³
(
äom
))

180 
NS_LOG_INFO
(

181 "Aˆtim" << 
SimuÏtÜ
::
Now
 ().
G‘SecÚds
 (è<< " ·ck‘ sšk„eûived " << 
·ck‘
->
G‘Size
 (è<< " by‹ äom " << 
IÃtSock‘Add»ss
::
CÚv”tFrom
(
äom
).
G‘Ipv4
 (è<< "…Üˆ" << IÃtSock‘Add»ss::CÚv”tFrom (äom).
G‘PÜt
 (è<< "Ù® Rx " << 
m_tÙ®Rx
 << " bytes");

183 ià(
	gIÃt6Sock‘Add»ss
::
IsM©chšgTy³
(
äom
))

185 
NS_LOG_INFO
(

186 "Aˆtim" << 
SimuÏtÜ
::
Now
 ().
G‘SecÚds
 (è<< " ·ck‘ sšk„eûived " << 
·ck‘
->
G‘Size
 (è<< " by‹ äom " << 
IÃt6Sock‘Add»ss
::
CÚv”tFrom
(
äom
).
G‘Ipv6
 (è<< "…Üˆ" << IÃt6Sock‘Add»ss::CÚv”tFrom (äom).
G‘PÜt
 (è<< "Ù® Rx " << 
m_tÙ®Rx
 << " bytes");

188 
m_rxT¿û
(
·ck‘
, 
äom
);

193 
	gDashS”v”
::
HªdËP“rClo£
(
PŒ
<
Sock‘
> 
sock‘
)

195 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);

199 
	gDashS”v”
::
HªdËP“rE¼Ü
(
PŒ
<
Sock‘
> 
sock‘
)

201 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);

205 
	gDashS”v”
::
HªdËAcû±
(
PŒ
<
Sock‘
> 
s
, cÚ¡ 
Add»ss
& 
äom
)

207 
NS_LOG_FUNCTION
(
this
 << 
s
 << 
äom
);

208 
	gs
->
S‘RecvC®lback
(
MakeC®lback
(&
DashS”v”
::
HªdËR—d
, 
this
));

209 
	gs
->
S‘S’dC®lback
(
MakeC®lback
(&
DashS”v”
::
D©aS’d
, 
this
));

210 
	gm_sock‘Li¡
.
push_back
(
s
);

215 
	gDashS”v”
::
D©aS’d
(
PŒ
<
Sock‘
> 
sock‘
, 
ušt32_t
)

217 
NS_LOG_FUNCTION
(
this
);

218 
	g¡d
::
m­
<
PŒ
<
Sock‘
>, std::
queue
<
Pack‘
> >::
™”©Ü
 
™”
 =

219 
m_queues
.
begš
(); 
	g™”
 !ğm_queues.
’d
(); ++iter)

221 
HTTPH—d”
 
	gh‰pH—d”
;

222 
MPEGH—d”
 
	gm³gH—d”
;

224 ià(
	g™”
->
	g£cÚd
.
size
())

226 
	gPŒ
<
	gPack‘
> 
	gäame
 = 
™”
->
£cÚd
.
äÚt
().
Cİy
();

228 
	gäame
->
RemoveH—d”
(
m³gH—d”
);

229 
	gäame
->
RemoveH—d”
(
h‰pH—d”
);

231 
NS_LOG_INFO
(

232 "VidId: " << 
h‰pH—d”
.
G‘VideoId
(è<< "„xAvğ" << 
™”
->
fœ¡
->
G‘RxAvaabË
(è<< " queueğ"<< i‹r->
£cÚd
.
size
(è<< "„esğ" << h‰pH—d”.
G‘ResŞutiÚ
());

235 !
	gm_queues
[
sock‘
].
em±y
())

238 
	gby‹s
;

239 
	gPŒ
<
	gPack‘
> 
	gäame
 = 
m_queues
[
sock‘
].
äÚt
().
Cİy
();

241 ià((
	gby‹s
 = 
sock‘
->
S’d
(
äame
)è!ğ(èäame->
G‘Size
())

243 
¡d
::
cout
<<"Could‚Ù s’d f¿me"<<¡d::
’dl
;

244 
NS_LOG_INFO
("Could‚ot send frame");

245 ià(
	gby‹s
 != -1)

247 
NS_FATAL_ERROR
("Oops, we sent half‡ frame :(");

252 
	gm_queues
[
sock‘
].
pİ
();

255 
NS_LOG_INFO
("DATA WAS JUST SENT!!!");

260 
	gDashS”v”
::
S’dSegm’t
(
ušt32_t
 
video_id
, ušt32_ˆ
»sŞutiÚ
,

261 
ušt32_t
 
£gm’t_id
,ušt32_ˆ
·ck‘_num
, 
PŒ
<
Sock‘
> 
sock‘
)

276 
	gv_num
[
video_id
]++;

278 
	gavg_·ck‘size
 = 
»sŞutiÚ
 / (50 * 8);

280 
HTTPH—d”
 
	gh‰p_h—d”_tmp
;

281 
MPEGH—d”
 
	gm³g_h—d”_tmp
;

283 
	gPŒ
<
	gUnifÜmRªdomV¬ŸbË
> 
	gäame_size_g’
 = 
C»©eObjeù
<
UnifÜmRªdomV¬ŸbË
> ();

285 
	gäame_size_g’
->
S‘A‰ribu‹
 ("Mš", 
DoubËV®ue
 (1288));

294 
	gäame_size_g’
->
S‘A‰ribu‹
 ("Max", 
DoubËV®ue
 (1288));

297 
ušt32_t
 
	gf_id
 = 0; f_id < 
	g·ck‘_num
; f_id++)

299 
ušt32_t
 
	gäame_size
 = (è
äame_size_g’
->
G‘V®ue
();

304 
HTTPH—d”
 
	gh‰p_h—d”
;

305 
	gh‰p_h—d”
.
S‘Mes§geTy³
(
HTTP_RESPONSE
);

306 
	gh‰p_h—d”
.
S‘VideoId
(
video_id
);

307 
	gh‰p_h—d”
.
S‘ResŞutiÚ
(
»sŞutiÚ
);

308 
	gh‰p_h—d”
.
S‘Segm’tId
(
£gm’t_id
);

310 
MPEGH—d”
 
	gm³g_h—d”
;

311 
	gm³g_h—d”
.
S‘F¿meId
(
f_id
);

312 
	gm³g_h—d”
.
S‘PÏybackTime
(

313 
MliSecÚds
(

314 (
f_id
 + (
£gm’t_id
 * 
MPEG_FRAMES_PER_SEGMENT
))

315 * 
MPEG_TIME_BETWEEN_FRAMES
));

321 
	gm³g_h—d”
.
S‘Ty³
('B');

322 
	gm³g_h—d”
.
S‘Size
(
äame_size
);

324 
	gPŒ
<
	gPack‘
> 
	gäame
 = 
C»©e
<
Pack‘
>(
äame_size
);

325 
	gäame
->
AddH—d”
(
h‰p_h—d”
);

326 
	gäame
->
AddH—d”
(
m³g_h—d”
);

327 
NS_LOG_INFO
(

328 "SENDING PACKET " << 
f_id
 << " " << 
äame
->
G‘Size
(è<< "„es=" << 
h‰p_h—d”
.
G‘ResŞutiÚ
(è<< " size=" << 
m³g_h—d”
.G‘Size(è<< "‡vg=" << 
avg_·ck‘size
);

330 
	gm_queues
[
sock‘
].
push
(*
äame
);

332 
D©aS’d
(
sock‘
, 0);

	@model/dash-server.h

21 #iâdeà
DASH_SERVER_H


22 
	#DASH_SERVER_H


	)

24 
	~"ns3/­¶iÿtiÚ.h
"

25 
	~"ns3/ev’t-id.h
"

26 
	~"ns3/±r.h
"

27 
	~"ns3/Œaûd-ÿÎback.h
"

28 
	~"ns3/add»ss.h
"

29 
	~<m­
>

30 
	~<queue
>

32 
Çme¥aû
 
	gns3


35 
şass
 
	gAdd»ss
;

36 
şass
 
	gSock‘
;

37 
şass
 
	gPack‘
;

52 şas 
	cDashS”v”
 : 
public
 
AµliÿtiÚ


54 
public
:

55 
Ty³Id


56 
G‘Ty³Id
();

57 
DashS”v”
();

59 
	gvœtu®


60 ~
DashS”v”
();

65 
	gPŒ
<
	gSock‘
>

66 
G‘Li¡’šgSock‘
() const;

71 
	g¡d
::
li¡
<
PŒ
<
Sock‘
> >

72 
G‘Acû±edSock‘s
() const;

74 
	g´Ùeùed
:

75 
vœtu®
 

76 
DoDi¥o£
();

77 
	g´iv©e
:

79 
vœtu®
 

80 
S¹AµliÿtiÚ
();

81 
vœtu®
 

82 
StİAµliÿtiÚ
();

85 
HªdËR—d
(
PŒ
<
Sock‘
>);

87 
D©aS’d
(
PŒ
<
Sock‘
>, 
ušt32_t
);

90 
S’dSegm’t
(
ušt32_t
 
video_id
, ušt32_ˆ
»sŞutiÚ
, ušt32_ˆ
£gm’t_id
, ušt32_ˆ
·ck‘_num
,

91 
PŒ
<
Sock‘
> 
sock‘
);

93 
HªdËAcû±
(
PŒ
<
Sock‘
>, cÚ¡ 
Add»ss
& 
äom
);

95 
HªdËP“rClo£
(
PŒ
<
Sock‘
>);

97 
HªdËP“rE¼Ü
(
PŒ
<
Sock‘
>);

101 
	gPŒ
<
	gSock‘
> 
	gm_sock‘
;

102 
	g¡d
::
li¡
<
PŒ
<
Sock‘
> > 
m_sock‘Li¡
;

104 
Add»ss
 
	gm_loÿl
;

105 
ušt32_t
 
	gm_tÙ®Rx
;

106 
Ty³Id
 
	gm_tid
;

107 
	gT¿ûdC®lback
<
	gPŒ
<cÚ¡ 
	gPack‘
>, cÚ¡ 
	gAdd»ss
 &> 
	gm_rxT¿û
;

110 
	g¡d
::
m­
<
PŒ
<
Sock‘
>, std::
queue
<
Pack‘
> > 
m_queues
;

111 
	gv_num
[10]={-1,-1,-1,-1,-1,-1,-1,-1,-1,-1};

	@model/http-header.cc

21 
	~"ns3/as£¹.h
"

22 
	~"ns3/log.h
"

23 
	~"ns3/h—d”.h
"

24 
	~"ns3/simuÏtÜ.h
"

25 
	~"h‰p-h—d”.h
"

27 
NS_LOG_COMPONENT_DEFINE
("HTTPHeader");

29 
Çme¥aû
 
	gns3


32 
NS_OBJECT_ENSURE_REGISTERED
 (
HTTPH—d”
)

35 
	gHTTPH—d”
::
HTTPH—d”
() :

36 
m_£q
(0), 
m_ts
(
SimuÏtÜ
::
Now
().
G‘TimeS‹p
()), 
m_mes§ge_ty³
(

37 
HTTP_REQUEST
), 
m_video_id
(0), 
m_»sŞutiÚ
(0), 
m_£gm’t_id
(0)

40 
NS_LOG_FUNCTION
(
this
);

44 
	gHTTPH—d”
::
S‘Seq
(
ušt32_t
 
£q
)

46 
NS_LOG_FUNCTION
(
this
 << 
£q
);

47 
	gm_£q
 = 
£q
;

49 
ušt32_t


50 
	gHTTPH—d”
::
G‘Seq
() const

52 
NS_LOG_FUNCTION
(
this
);

53  
	gm_£q
;

57 
	gHTTPH—d”
::
S‘Mes§geTy³
(
ušt32_t
 
mes§ge_ty³
)

59 
NS_LOG_FUNCTION
(
this
 << 
mes§ge_ty³
);

60 
	gm_mes§ge_ty³
 = 
mes§ge_ty³
;

63 
ušt32_t


64 
	gHTTPH—d”
::
G‘Mes§geTy³
() const

66 
NS_LOG_FUNCTION
(
this
);

67  
	gm_mes§ge_ty³
;

70 
	gHTTPH—d”
::
S‘VideoId
(
ušt32_t
 
video_id
)

73 
NS_LOG_FUNCTION
(
this
 << 
video_id
);

74 
	gm_video_id
 = 
video_id
;

76 
ušt32_t


77 
	gHTTPH—d”
::
G‘VideoId
() const

80 
NS_LOG_FUNCTION
(
this
);

81  
	gm_video_id
;

84 
	gHTTPH—d”
::
S‘ResŞutiÚ
(
ušt32_t
 
»sŞutiÚ
)

87 
NS_LOG_FUNCTION
(
this
 << 
»sŞutiÚ
);

88 
	gm_»sŞutiÚ
 = 
»sŞutiÚ
;

90 
ušt32_t


91 
	gHTTPH—d”
::
G‘ResŞutiÚ
() const

93 
NS_LOG_FUNCTION
(
this
);

94  
	gm_»sŞutiÚ
;

98 
	gHTTPH—d”
::
S‘Segm’tId
(
ušt32_t
 
£gm’t_id
)

100 
NS_LOG_FUNCTION
(
this
 << 
£gm’t_id
);

101 
	gm_£gm’t_id
 = 
£gm’t_id
;

103 
ušt32_t


104 
	gHTTPH—d”
::
G‘Segm’tId
() const

106 
NS_LOG_FUNCTION
(
this
);

107  
	gm_£gm’t_id
;

110 
Time


111 
	gHTTPH—d”
::
G‘Ts
() const

113 
NS_LOG_FUNCTION
(
this
);

114  
TimeS‹p
(
m_ts
);

117 
Ty³Id


118 
	gHTTPH—d”
::
G‘Ty³Id
()

120 
Ty³Id
 
tid
 =

121 
Ty³Id
("ns3::HTTPH—d”").
S‘P¬’t
<
H—d”
>().
AddCÚ¡ruùÜ
<
HTTPH—d”
>();

122  
	gtid
;

124 
Ty³Id


125 
	gHTTPH—d”
::
G‘In¡ªûTy³Id
() const

127  
G‘Ty³Id
();

130 
	gHTTPH—d”
::
Pršt
(
¡d
::
o¡»am
 &
os
) const

132 
NS_LOG_FUNCTION
(
this
 << &
os
);

133 
	gos
 << "(£q=" << 
	gm_£q
 << "ime=" << 
TimeS‹p
(
m_ts
).
G‘SecÚds
() << ")";

135 
ušt32_t


136 
	gHTTPH—d”
::
G‘S”ŸlizedSize
() const

138 
NS_LOG_FUNCTION
(
this
);

144 
	gHTTPH—d”
::
S‘Pack‘Num
(
ušt32_t
 
·ck‘_num
)

146 
NS_LOG_FUNCTION
(
this
 << 
·ck‘_num
);

147 
	gm_·ck‘_num
 = 
·ck‘_num
;

149 
ušt32_t


150 
	gHTTPH—d”
::
G‘Pack‘Num
() const

152 
NS_LOG_FUNCTION
(
this
);

153  
	gm_·ck‘_num
;

157 
	gHTTPH—d”
::
S”Ÿlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
) const

159 
NS_LOG_FUNCTION
(
this
 << &
¡¬t
);

160 
	gBufãr
::
I‹¿tÜ
 
i
 = 
¡¬t
;

161 
	gi
.
Wr™eHtÚU32
(
m_£q
);

162 
	gi
.
Wr™eHtÚU64
(
m_ts
);

163 
	gi
.
Wr™eHtÚU32
(
m_mes§ge_ty³
);

164 
	gi
.
Wr™eHtÚU32
(
m_video_id
);

165 
	gi
.
Wr™eHtÚU32
(
m_»sŞutiÚ
);

166 
	gi
.
Wr™eHtÚU32
(
m_£gm’t_id
);

167 
	gi
.
Wr™eHtÚU32
(
m_·ck‘_num
);

169 
ušt32_t


170 
	gHTTPH—d”
::
De£rŸlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
)

172 
NS_LOG_FUNCTION
(
this
 << &
¡¬t
);

173 
	gBufãr
::
I‹¿tÜ
 
i
 = 
¡¬t
;

174 
	gm_£q
 = 
i
.
R—dNtohU32
();

175 
	gm_ts
 = 
i
.
R—dNtohU64
();

176 
	gm_mes§ge_ty³
 = 
i
.
R—dNtohU32
();

177 
	gm_video_id
 = 
i
.
R—dNtohU32
();

178 
	gm_»sŞutiÚ
 = 
i
.
R—dNtohU32
();

179 
	gm_£gm’t_id
 = 
i
.
R—dNtohU32
();

180 
	gm_·ck‘_num
 = 
i
.
R—dNtohU32
();

181  
G‘S”ŸlizedSize
();

	@model/http-header.h

21 #iâdeà
HTTP_TS_HEADER_H


22 
	#HTTP_TS_HEADER_H


	)

24 
	~"ns3/h—d”.h
"

25 
	~"ns3/n¡ime.h
"

27 
Çme¥aû
 
	gns3


35 
	#HTTP_REQUEST
 0

	)

36 
	#HTTP_RESPONSE
 1

	)

38 şas 
	cHTTPH—d”
 : 
public
 
H—d”


40 
public
:

41 
HTTPH—d”
();

47 
S‘Seq
(
ušt32_t
 
£q
);

52 
ušt32_t


53 
G‘Seq
() const;

59 
S‘Mes§geTy³
(
ušt32_t
 
mes§ge_ty³
);

60 
ušt32_t


61 
G‘Mes§geTy³
() const;

64 
S‘VideoId
(
ušt32_t
 
video_id
);

65 
ušt32_t


66 
G‘VideoId
() const;

69 
S‘ResŞutiÚ
(
ušt32_t
 
»sŞutiÚ
);

70 
ušt32_t


71 
G‘ResŞutiÚ
() const;

74 
S‘Segm’tId
(
ušt32_t
 
£gm’t_id
);

75 
ušt32_t


76 
G‘Segm’tId
() const;

78 
Time


79 
G‘Ts
() const;

81 
Ty³Id


82 
G‘Ty³Id
();

84 
vœtu®
 
ušt32_t


85 
G‘S”ŸlizedSize
() const;

88 
S‘Pack‘Num
(
ušt32_t
 
·ck‘_num
);

90 
ušt32_t


91 
G‘Pack‘Num
() const;

94 
	g´iv©e
:

95 
vœtu®
 
Ty³Id


96 
G‘In¡ªûTy³Id
() const;

97 
vœtu®
 

98 
Pršt
(
¡d
::
o¡»am
 &
os
) const;

99 
vœtu®
 

100 
S”Ÿlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
) const;

101 
vœtu®
 
ušt32_t


102 
De£rŸlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
);

104 
ušt32_t
 
	gm_£q
;

105 
ušt64_t
 
	gm_ts
;

107 
ušt32_t
 
	gm_mes§ge_ty³
;

108 
ušt32_t
 
	gm_video_id
;

109 
ušt32_t
 
	gm_»sŞutiÚ
;

110 
ušt32_t
 
	gm_£gm’t_id
;

112 
ušt32_t
 
	gm_·ck‘_num
;

	@model/http-parser.cc

21 
	~"h‰p-·r£r.h
"

22 
	~"ns3/log.h
"

23 
	~"ns3/add»ss.h
"

24 
	~"ns3/sock‘.h
"

25 
	~"ns3/·ck‘.h
"

26 
	~"ns3/simuÏtÜ.h
"

27 
	~"h‰p-h—d”.h
"

28 
	~"m³g-h—d”.h
"

29 
	~"dash-ş›Á.h
"

31 
NS_LOG_COMPONENT_DEFINE
("HttpParser");

33 
Çme¥aû
 
	gns3


36 
	gH‰pP¬£r
::
H‰pP¬£r
() :

37 
m_by‹s
(0), 
m_­p
(
NULL
), 
m_Ï¡m—su»m’t
("0s")

39 
NS_LOG_FUNCTION
(
this
);

42 
	gH‰pP¬£r
::~
H‰pP¬£r
()

44 
NS_LOG_FUNCTION
(
this
);

48 
	gH‰pP¬£r
::
S‘Aµ
(
DashCl›Á
 *
­p
)

50 
NS_LOG_FUNCTION
(
this
 << 
­p
);

51 
	gm_­p
 = 
­p
;

54 
	gH‰pP¬£r
::
R—dSock‘
(
PŒ
<
Sock‘
> 
sock‘
)

56 
NS_LOG_FUNCTION
(
this
 << 
sock‘
);

57 
Add»ss
 
	gäom
;

58 
	gby‹s
 = 
sock‘
->
RecvFrom
(&
m_bufãr
[
m_by‹s
], 
MPEG_MAX_MESSAGE
 - m_bytes,

59 0, 
äom
);

61 
MPEGH—d”
 
	gm³g_h—d”
;

62 
HTTPH—d”
 
	gh‰p_h—d”
;

64 
ušt32_t
 
	gh—d”size
 = 
m³g_h—d”
.
G‘S”ŸlizedSize
()

65 + 
h‰p_h—d”
.
G‘S”ŸlizedSize
();

67 ià(
	gby‹s
 > 0)

69 
	gm_by‹s
 +ğ
by‹s
;

71 ià(
	gm_Ï¡m—su»m’t
 > 
Time
("0s"))

73 
NS_LOG_INFO
(

74 
SimuÏtÜ
::
Now
().
G‘SecÚds
(è<< " by‹s: " << 
by‹s
 << " dt: " << (SimuÏtÜ::Now(è- 
m_Ï¡m—su»m’t
).G‘SecÚds(è<< " b™¿‹: " << (8 * (by‹ + 
h—d”size
)/ (Simulator::Now() - m_lastmeasurement).GetSeconds()));

76 
	gm_Ï¡m—su»m’t
 = 
SimuÏtÜ
::
Now
();

79 
NS_LOG_INFO
(

80 "### Bufã¸¥aû: " << 
m_by‹s
 << " QueuËngth " << 
m_­p
->
G‘PÏy”
().
G‘QueueSize
());

82 ià(
	gm_by‹s
 < 
	gh—d”size
)

87 
Pack‘
 
h—d”Pack‘
(
m_bufãr
, 
h—d”size
);

88 
	gh—d”Pack‘
.
RemoveH—d”
(
m³g_h—d”
);

90 
ušt32_t
 
	gmes§ge_size
 = 
h—d”size
 + 
m³g_h—d”
.
G‘Size
();

92 ià(
	gm_by‹s
 < 
	gmes§ge_size
)

96 
Pack‘
 
mes§ge
(
m_bufãr
, 
mes§ge_size
);

98 
memmove
(
m_bufãr
, &m_bufãr[
mes§ge_size
], 
m_by‹s
 - message_size);

99 
	gm_by‹s
 -ğ
mes§ge_size
;

100 
	gm_­p
->
Mes§geReûived
(
mes§ge
);

102 
R—dSock‘
(
sock‘
);

	@model/http-parser.h

21 #iâdeà
HTTP_PARSER_H_


22 
	#HTTP_PARSER_H_


	)

24 
	~<ns3/±r.h
>

25 
	~"m³g-h—d”.h
"

27 
Çme¥aû
 
	gns3


30 
şass
 
	gSock‘
;

31 
şass
 
	gDashCl›Á
;

33 şas 
	cH‰pP¬£r


35 
	gpublic
:

36 
H‰pP¬£r
();

37 
	gvœtu®


38 ~
H‰pP¬£r
();

40 
R—dSock‘
(
PŒ
<
Sock‘
> 
sock‘
);

42 
S‘Aµ
(
DashCl›Á
 *
­p
);

44 
	g´iv©e
:

45 
ušt8_t
 
m_bufãr
[
MPEG_MAX_MESSAGE
];

46 
ušt32_t
 
	gm_by‹s
;

47 
DashCl›Á
 *
	gm_­p
;

49 
Time
 
	gm_Ï¡m—su»m’t
;

	@model/mpeg-header.cc

21 
	~"ns3/as£¹.h
"

22 
	~"ns3/log.h
"

23 
	~"ns3/h—d”.h
"

24 
	~"ns3/simuÏtÜ.h
"

25 
	~"m³g-h—d”.h
"

27 
NS_LOG_COMPONENT_DEFINE
("MPEGHeader");

29 
Çme¥aû
 
	gns3


32 
NS_OBJECT_ENSURE_REGISTERED
 (
MPEGH—d”
)

35 
	gMPEGH—d”
::
MPEGH—d”
() :

36 
m_£q
(0), 
m_ts
(
SimuÏtÜ
::
Now
().
G‘TimeS‹p
()), 
m_äame_id
(0), 
m_¶ayback_time
(

37 0), 
m_ty³
('B')

40 
NS_LOG_FUNCTION
(
this
);

44 
	gMPEGH—d”
::
S‘Seq
(
ušt32_t
 
£q
)

46 
NS_LOG_FUNCTION
(
this
 << 
£q
);

47 
	gm_£q
 = 
£q
;

49 
ušt32_t


50 
	gMPEGH—d”
::
G‘Seq
() const

52 
NS_LOG_FUNCTION
(
this
);

53  
	gm_£q
;

57 
	gMPEGH—d”
::
S‘F¿meId
(
ušt32_t
 
äame_id
)

59 
NS_LOG_FUNCTION
(
this
);

60 
	gm_äame_id
 = 
äame_id
;

62 
ušt32_t


63 
	gMPEGH—d”
::
G‘F¿meId
() const

65 
NS_LOG_FUNCTION
(
this
);

66  
	gm_äame_id
;

70 
	gMPEGH—d”
::
S‘PÏybackTime
(
Time
 
¶ayback_time
)

72 
NS_LOG_FUNCTION
(
this
);

73 
	gm_¶ayback_time
 = 
¶ayback_time
.
G‘TimeS‹p
();

75 
Time


76 
	gMPEGH—d”
::
G‘PÏybackTime
() const

78 
NS_LOG_FUNCTION
(
this
);

79  
TimeS‹p
(
m_¶ayback_time
);

83 
	gMPEGH—d”
::
S‘Ty³
(
ušt32_t
 
ty³
)

85 
NS_LOG_FUNCTION
(
this
);

86 
	gm_ty³
 = 
ty³
;

88 
ušt32_t


89 
	gMPEGH—d”
::
G‘Ty³
() const

91 
NS_LOG_FUNCTION
(
this
);

92  
	gm_ty³
;

96 
	gMPEGH—d”
::
S‘Size
(
ušt32_t
 
size
)

98 
NS_LOG_FUNCTION
(
this
);

99 
	gm_size
 = 
size
;

102 
ušt32_t


103 
	gMPEGH—d”
::
G‘Size
() const

105 
NS_LOG_FUNCTION
(
this
);

106  
	gm_size
;

108 
Time


109 
	gMPEGH—d”
::
G‘Ts
() const

111 
NS_LOG_FUNCTION
(
this
);

112  
TimeS‹p
(
m_ts
);

115 
Ty³Id


116 
	gMPEGH—d”
::
G‘Ty³Id
()

118 
Ty³Id
 
tid
 =

119 
Ty³Id
("ns3::MPEGH—d”").
S‘P¬’t
<
H—d”
>().
AddCÚ¡ruùÜ
<
MPEGH—d”
>();

120  
	gtid
;

122 
Ty³Id


123 
	gMPEGH—d”
::
G‘In¡ªûTy³Id
() const

125  
G‘Ty³Id
();

128 
	gMPEGH—d”
::
Pršt
(
¡d
::
o¡»am
 &
os
) const

130 
NS_LOG_FUNCTION
(
this
 << &
os
);

131 
	gos
 << "(£q=" << 
	gm_£q
 << "ime=" << 
TimeS‹p
(
m_ts
).
G‘SecÚds
() << ")";

133 
ušt32_t


134 
	gMPEGH—d”
::
G‘S”ŸlizedSize
() const

136 
NS_LOG_FUNCTION
(
this
);

141 
	gMPEGH—d”
::
S”Ÿlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
) const

143 
NS_LOG_FUNCTION
(
this
 << &
¡¬t
);

144 
	gBufãr
::
I‹¿tÜ
 
i
 = 
¡¬t
;

145 
	gi
.
Wr™eHtÚU32
(
m_£q
);

146 
	gi
.
Wr™eHtÚU64
(
m_ts
);

147 
	gi
.
Wr™eHtÚU32
(
m_äame_id
);

148 
	gi
.
Wr™eHtÚU64
(
m_¶ayback_time
);

149 
	gi
.
Wr™eHtÚU32
(
m_ty³
);

150 
	gi
.
Wr™eHtÚU32
(
m_size
);

152 
ušt32_t


153 
	gMPEGH—d”
::
De£rŸlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
)

155 
NS_LOG_FUNCTION
(
this
 << &
¡¬t
);

156 
	gBufãr
::
I‹¿tÜ
 
i
 = 
¡¬t
;

157 
	gm_£q
 = 
i
.
R—dNtohU32
();

158 
	gm_ts
 = 
i
.
R—dNtohU64
();

159 
	gm_äame_id
 = 
i
.
R—dNtohU32
();

160 
	gm_¶ayback_time
 = 
i
.
R—dNtohU64
();

161 
	gm_ty³
 = 
i
.
R—dNtohU32
();

162 
	gm_size
 = 
i
.
R—dNtohU32
();

163  
G‘S”ŸlizedSize
();

	@model/mpeg-header.h

21 #iâdeà
MPEG_HEADER_H


22 
	#MPEG_HEADER_H


	)

24 
	~"ns3/h—d”.h
"

25 
	~"ns3/n¡ime.h
"

27 
Çme¥aû
 
	gns3


37 
	#MPEG_MAX_MESSAGE
 100000

	)

38 
	#MPEG_FRAMES_PER_SEGMENT
 1

39 
	#MPEG_TIME_BETWEEN_FRAMES
 20

40 şas 
	cMPEGH—d”
 : 
public
 
H—d”


	)

42 
	gpublic
:

43 
MPEGH—d”
();

49 
S‘Seq
(
ušt32_t
 
£q
);

53 
ušt32_t


54 
G‘Seq
() const;

60 
S‘F¿meId
(
ušt32_t
 
äame_id
);

61 
ušt32_t


62 
G‘F¿meId
() const;

65 
S‘PÏybackTime
(
Time
 
¶ayback_time
);

66 
Time


67 
G‘PÏybackTime
() const;

70 
S‘Ty³
(
ušt32_t
 
ty³
);

71 
ušt32_t


72 
G‘Ty³
() const;

75 
S‘Size
(
ušt32_t
 
size
);

76 
ušt32_t


77 
G‘Size
() const;

79 
Time


80 
G‘Ts
() const;

82 
Ty³Id


83 
G‘Ty³Id
();

85 
vœtu®
 
ušt32_t


86 
G‘S”ŸlizedSize
() const;

88 
	g´iv©e
:

89 
vœtu®
 
Ty³Id


90 
G‘In¡ªûTy³Id
() const;

91 
vœtu®
 

92 
Pršt
(
¡d
::
o¡»am
 &
os
) const;

93 
vœtu®
 

94 
S”Ÿlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
) const;

95 
vœtu®
 
ušt32_t


96 
De£rŸlize
(
Bufãr
::
I‹¿tÜ
 
¡¬t
);

98 
ušt32_t
 
	gm_£q
;

99 
ušt64_t
 
	gm_ts
;

101 
ušt32_t
 
	gm_äame_id
;

102 
ušt64_t
 
	gm_¶ayback_time
;

103 
ušt32_t
 
	gm_ty³
;

104 
ušt32_t
 
	gm_size
;

	@model/mpeg-player.cc

21 
	~"ns3/log.h
"

22 
	~"ns3/n¡ime.h
"

23 
	~"ns3/simuÏtÜ.h
"

24 
	~"h‰p-h—d”.h
"

25 
	~"m³g-h—d”.h
"

26 
	~"m³g-¶ay”.h
"

27 
	~"dash-ş›Á.h
"

28 
	~<cm©h
>

29 
	~"·¿.h
"

30 
NS_LOG_COMPONENT_DEFINE
("MpegPlayer");

33 
Çme¥aû
 
	gns3


36 
	gM³gPÏy”
::
M³gPÏy”
() :

37 
m_¡©e
(
MPEG_PLAYER_NOT_STARTED
), 
m_š‹¼ru±iÚs
(0), 
m_tÙ®R©e
(0), 
m_mšR©e
(

38 100000000), 
m_äamesPÏyed
(0), 
m_bufãrD–ay
("0s")

40 
NS_LOG_FUNCTION
(
this
);

43 
	gM³gPÏy”
::~
M³gPÏy”
()

45 
NS_LOG_FUNCTION
(
this
);

49 
	gM³gPÏy”
::
G‘QueueSize
()

51  
m_queue
.
size
();

54 
Time


55 
	gM³gPÏy”
::
G‘R—lPÏyTime
(
Time
 
¶ayTime
)

57 
NS_LOG_INFO
(

58 " S¹: " << 
m_¡¬t_time
.
G‘SecÚds
(è<< " IÁ”: " << 
m_š‹¼u±iÚ_time
.G‘SecÚds(è<< "…Ïytime: " << 
¶ayTime
.G‘SecÚds(è<< "‚ow: " << 
SimuÏtÜ
::
Now
().GetSeconds() << "‡ctual: " << (m_start_time + m_interruption_time +…layTime).GetSeconds());

60  
	gm_¡¬t_time
 + 
	gm_š‹¼u±iÚ_time


61 + (
	gm_¡©e
 =ğ
MPEG_PLAYER_PAUSED
 ?

62 (
SimuÏtÜ
::
Now
(è- 
m_Ï¡·u£d
è: 
SecÚds
(0)è+ 
¶ayTime


63 - 
SimuÏtÜ
::
Now
();

67 
	gM³gPÏy”
::
ReûiveF¿me
(
PŒ
<
Pack‘
> 
mes§ge
)

70 
NS_LOG_FUNCTION
(
this
 << 
mes§ge
);

71 
NS_LOG_INFO
("Reûived F¿m" << 
m_¡©e
);

73 
	gPŒ
<
	gPack‘
> 
	gmsg
 = 
mes§ge
->
Cİy
();

75 
	gm_queue
.
push
(
msg
);

77 ià(
	gm_¡©e
 =ğ
MPEG_PLAYER_PAUSED
)

79 if(
m_queue
.
size
()>(è
video_£r›s
[
u£rID
][
v_num
]){

80 
NS_LOG_INFO
("Play„esumed");

81 
	gm_¡©e
 = 
MPEG_PLAYER_PLAYING
;

82 
	gm_š‹¼u±iÚ_time
 +ğ(
SimuÏtÜ
::
Now
(è- 
m_Ï¡·u£d
);

86 
	g»cÜd
=1;

90 
PÏyF¿me
();

93 ià(
	gm_¡©e
 =ğ
MPEG_PLAYER_NOT_STARTED
)

96 
š™Ÿl_bufãr
=0;

97 
	gi
=0; i<
	gš™_bufãr
; i++){

98 
	gš™Ÿl_bufãr
+=
video_£r›s
[
u£rID
][
i
];

101 if(
	gm_queue
.
size
()>(è
	gš™Ÿl_bufãr
){

102 
NS_LOG_INFO
("Play started");

103 
	gm_¡©e
 = 
MPEG_PLAYER_PLAYING
;

104 
	gm_¡¬t_time
 = 
SimuÏtÜ
::
Now
();

107 
PÏyF¿me
();

113 
	gM³gPÏy”
::
G‘ID
(
m_id
)

115 
u£rID
=
m_id
;

119 
	gM³gPÏy”
::
S¹
()

121 
NS_LOG_FUNCTION
(
this
);

122 
	gm_¡©e
 = 
MPEG_PLAYER_PLAYING
;

123 
	gm_š‹¼u±iÚ_time
 = 
SecÚds
(0);

128 
	gM³gPÏy”
::
PÏyF¿me
()

136 
NS_LOG_FUNCTION
(
this
);

137 ià(
	gm_¡©e
 =ğ
MPEG_PLAYER_DONE
)

141 ià(
	gm_queue
.
em±y
())

143 
NS_LOG_INFO
(
SimuÏtÜ
::
Now
().
G‘SecÚds
() << " No frameso…lay");

144 
	gm_¡©e
 = 
MPEG_PLAYER_PAUSED
;

145 
	gm_Ï¡·u£d
 = 
SimuÏtÜ
::
Now
();

146 
	gm_š‹¼ru±iÚs
++;

150 ià(
	gm_queue
.
size
()<(è
	gvideo_£r›s
[
u£rID
][
v_num
])

152 
	gm_¡©e
 = 
MPEG_PLAYER_PAUSED
;

153 
	gm_Ï¡·u£d
 = 
SimuÏtÜ
::
Now
();

154 
	gm_š‹¼ru±iÚs
++;

161 ià(
	g»cÜd
==0){

164 
»cÜd
=0;

167 
MPEGH—d”
 
	gm³g_h—d”
;

168 
HTTPH—d”
 
	gh‰p_h—d”
;

172 
	gi
=0;i<()
	gvideo_£r›s
[
u£rID
][
v_num
];i++){

173 
	gPŒ
<
	gPack‘
> 
	gmes§ge
 = 
m_queue
.
äÚt
();

174 
	gm_queue
.
pİ
();

175 
	gmes§ge
->
RemoveH—d”
(
m³g_h—d”
);

176 
	gmes§ge
->
RemoveH—d”
(
h‰p_h—d”
);

177 
	gm_tÙ®R©e
 +ğ
h‰p_h—d”
.
G‘ResŞutiÚ
();

178 
	gm_äamesPÏyed
++;

181 
	gv_num
++;

195 ià(
	gh‰p_h—d”
.
G‘Segm’tId
() > 0)

197 
	gm_mšR©e
 =

198 
h‰p_h—d”
.
G‘ResŞutiÚ
(è< 
m_mšR©e
 ?

199 
h‰p_h—d”
.
G‘ResŞutiÚ
(è: 
m_mšR©e
;

206 
Time
 
	gb_t
 = 
G‘R—lPÏyTime
(
m³g_h—d”
.
G‘PÏybackTime
());

208 ià(
	gm_bufãrD–ay
 > 
Time
("0s"è&& 
	gb_t
 < m_bufãrD–ay && 
	gm_dashCl›Á
)

210 
	gm_dashCl›Á
->
Reque¡Segm’t
();

211 
	gm_bufãrD–ay
 = 
SecÚds
(0);

212 
	gm_dashCl›Á
 = 
NULL
;

216 
NS_LOG_INFO
(

217 
SimuÏtÜ
::
Now
().
G‘SecÚds
(è<< " PLAYING FRAME: " << " VidId: " << 
h‰p_h—d”
.
G‘VideoId
(è<< " SegId: " << h‰p_h—d”.
G‘Segm’tId
(è<< " Res: " << h‰p_h—d”.
G‘ResŞutiÚ
(è<< " F¿meId: " << 
m³g_h—d”
.
G‘F¿meId
(è<< " PÏyTime: " << m³g_h—d”.
G‘PÏybackTime
().G‘SecÚds(è<< " Ty³: " << (èm³g_h—d”.
G‘Ty³
(è<< " iÁ”Time: " << 
m_š‹¼u±iÚ_time
.G‘SecÚds(è<< " queueL’gth: " << 
m_queue
.
size
());

225 
	gSimuÏtÜ
::
ScheduË
(
MliSecÚds
(1000), &
M³gPÏy”
::
PÏyF¿me
, 
this
);

	@model/mpeg-player.h

21 #iâdeà
MPEG_PLAYER_H_


22 
	#MPEG_PLAYER_H_


	)

24 
	~<queue
>

25 
	~<m­
>

26 
	~"ns3/±r.h
"

27 
	~"ns3/·ck‘.h
"

29 
Çme¥aû
 
	gns3


33 
	gMPEG_PLAYER_PAUSED
, 
	gMPEG_PLAYER_PLAYING
, 
	gMPEG_PLAYER_NOT_STARTED
, 
	gMPEG_PLAYER_DONE


36 
şass
 
	gDashCl›Á
;

38 şas 
	cM³gPÏy”


40 
	gpublic
:

41 
M³gPÏy”
();

43 
	gvœtu®


44 ~
M³gPÏy”
();

47 
ReûiveF¿me
(
PŒ
<
Pack‘
> 
mes§ge
);

50 
G‘QueueSize
();

53 
S¹
();

55 
Time


56 
G‘R—lPÏyTime
(
Time
 
¶ayTime
);

58 
šlše


59 
SchduËBufãrWakeup
(cÚ¡ 
Time
 
t
, 
DashCl›Á
 * 
ş›Á
)

61 
	gm_bufãrD–ay
 = 
t
;

62 
	gm_dashCl›Á
 = 
ş›Á
;

66 
G‘ID
(
id
);

68 
	gm_¡©e
;

69 
Time
 
	gm_š‹¼u±iÚ_time
;

70 
	gm_š‹¼ru±iÚs
;

72 
Time
 
	gm_¡¬t_time
;

73 
ušt64_t
 
	gm_tÙ®R©e
;

74 
ušt32_t
 
	gm_mšR©e
;

75 
ušt32_t
 
	gm_äamesPÏyed
;

77 
	g´iv©e
:

79 
PÏyF¿me
();

81 
Time
 
	gm_Ï¡·u£d
;

82 
	g¡d
::
queue
<
PŒ
<
Pack‘
> > 
m_queue
;

83 
Time
 
	gm_bufãrD–ay
;

84 
DashCl›Á
 * 
	gm_dashCl›Á
;

85 
	gu£rID
;

86 
size_t
 
	gv_num
=0;

87 
	g»cÜd
=0;

	@model/para.h

1 
usšg
 
Çme¥aû
 
	g¡d
;

2 
	g¡d
::
¡ršg
 
šput_£r›s
;

3 
£g_Ëngth
;

4 
š™_bufãr
;

5 
veùÜ
 <> 
video_num
;

6 
veùÜ
<veùÜ<>> 
video_£r›s
;

7 
veùÜ
<veùÜ<veùÜ<>>> 
´obs
;

8 
veùÜ
<veùÜ<>> 
brs
;

9 
veùÜ
<veùÜ<>> 
di¡s
;

10 
veùÜ
<veùÜ<veùÜ<>>> 
video_size
;

11 
veùÜ
<veùÜ<veùÜ<>>> 
´ed_šfo
;

12 
veùÜ
<veùÜ<veùÜ<>>> 
gt_šfo
;

13 
veùÜ
 <
¡ršg
> 
video_Çmes
;

14 
veùÜ
<veùÜ<>> 
u£r_šfo
;

15 
¡d
::
¡ršg
 
te_cŞ
, 
te_row
;

16 
te_num
;

17 
rho
;

18 
¡d
::
¡ršg
 
ex³rim’t_dœ
;

19 
¡d
::
¡ršg
 
ã©u»_dœ
;

20 
¡d
::
¡ršg
 
video_šfo_dœ
;

21 
¡d
::
¡ršg
 
´ob_dœ
;

22 
¡d
::
¡ršg
 
´ob_ov”®l_dœ
;

23 
¡d
::
¡ršg
 
u£r_šfo_fe
;

24 
¡d
::
¡ršg
 
¬—_dœ
;

25 
M
;

	@test/dash-test-suite.cc

4 
	~"ns3/dash-moduË.h
"

7 
	~"ns3/‹¡.h
"

9 
	~<¡ršg
>

10 
	~<f¡»am
>

11 
	~"ns3/cÜe-moduË.h
"

12 
	~"ns3/pošt-to-pošt-moduË.h
"

13 
	~"ns3/š‹º‘-moduË.h
"

14 
	~"ns3/­¶iÿtiÚs-moduË.h
"

15 
	~"ns3/ÃtwÜk-moduË.h
"

16 
	~"ns3/dash-moduË.h
"

20 
usšg
 
Çme¥aû
 
	gns3
;

23 şas 
	cDashTe¡Ca£1
 : 
public
 
Te¡Ca£


25 
public
:

26 
DashTe¡Ca£1
 ();

27 
	mvœtu®
 ~
DashTe¡Ca£1
 ();

29 
	m´iv©e
:

30 
vœtu®
 
DoRun
 ();

34 
	gDashTe¡Ca£1
::
	$DashTe¡Ca£1
 ()

35 : 
	`Te¡Ca£
 ("Dashest case (does‚othing)")

37 
	}
}

41 
DashTe¡Ca£1
::~
	$DashTe¡Ca£1
 ()

43 
	}
}

50 
DashTe¡Ca£1
::
	$DoRun
 ()

53 
boŞ
 
Œacšg
 = 
çl£
;

54 
ušt32_t
 
u£rs
 = 1;

55 
rg‘_dt
 = 7;

56 
¡İTime
 = 100.0;

61 
NodeCÚš”
 
nodes
;

62 
nodes
.
	`C»©e
(2);

66 
PoštToPoštH–³r
 
poštToPošt
;

67 
poštToPošt
.
	`S‘DeviûA‰ribu‹
("D©aR©e", 
	`SŒšgV®ue
("500Kbps"));

68 
poštToPošt
.
	`S‘ChªÃlA‰ribu‹
("D–ay", 
	`SŒšgV®ue
("5ms"));

69 
N‘DeviûCÚš”
 
deviûs
;

70 
deviûs
 = 
poštToPošt
.
	`In¡®l
(
nodes
);

75 
IÁ”ÃtSckH–³r
 
š‹º‘
;

76 
š‹º‘
.
	`In¡®l
(
nodes
);

81 
Ipv4Add»ssH–³r
 
v4
;

82 
v4
.
	`S‘Ba£
("10.1.1.0", "255.255.255.0");

83 
Ipv4IÁ”çûCÚš”
 
i
 = 
v4
.
	`Assign
(
deviûs
);

87 
ušt16_t
 
pÜt
 = 80;

89 
¡d
::
veùÜ
<
DashCl›ÁH–³r
> 
ş›Ás
;

90 
¡d
::
veùÜ
<
AµliÿtiÚCÚš”
> 
ş›ÁAµs
;

92 
ušt32_t
 
u£r
 = 1; u£¸<ğ
u£rs
; user++)

94 
DashCl›ÁH–³r
 
	`ş›Á
("ns3::TcpSocketFactory",

95 
	`IÃtSock‘Add»ss
(
i
.
	`G‘Add»ss
(1), 
pÜt
));

97 
ş›Á
.
	`S‘A‰ribu‹
("VideoId", 
	`Uš‹g”V®ue
(
u£r
));

98 
ş›Á
.
	`S‘A‰ribu‹
("wšdow", 
	`TimeV®ue
(
	`SecÚds
(
rg‘_dt
)));

99 
AµliÿtiÚCÚš”
 
ş›ÁAµ
 = 
ş›Á
.
	`In¡®l
(
nodes
.
	`G‘
(0));

100 
ş›ÁAµ
.
	`S¹
(
	`SecÚds
(1.0));

101 
ş›ÁAµ
.
	`Stİ
(
	`SecÚds
(
¡İTime
));

103 
ş›Ás
.
	`push_back
(
ş›Á
);

104 
ş›ÁAµs
.
	`push_back
(
ş›ÁAµ
);

108 
DashS”v”H–³r
 
	`£rv”
("ns3::TcpSocketFactory",

109 
	`IÃtSock‘Add»ss
(
Ipv4Add»ss
::
	`G‘Any
(), 
pÜt
));

110 
AµliÿtiÚCÚš”
 
£rv”Aµs
 = 
£rv”
.
	`In¡®l
(
nodes
.
	`G‘
(1));

111 
£rv”Aµs
.
	`S¹
(
	`SecÚds
(0.0));

112 
£rv”Aµs
.
	`Stİ
(
	`SecÚds
(
¡İTime
 + 5.0));

117 ià(
Œacšg
)

119 
AsciiT¿ûH–³r
 
ascii
;

120 
poštToPošt
.
	`EÇbËAsciiAÎ
(
ascii
.
	`C»©eFeSŒ—m
("dash-send.tr"));

121 
poštToPošt
.
	`EÇbËPÿpAÎ
("dash-£nd", 
çl£
);

128 
SimuÏtÜ
::
	`Run
();

129 
SimuÏtÜ
::
	`De¡roy
();

131 
ušt32_t
 
k
;

132 
k
 = 0; k < 
u£rs
; k++)

134 
PŒ
<
DashCl›Á
> 
­p
 = 
DyÇmicCa¡
<DashCl›Á>(
ş›ÁAµs
[
k
].
	`G‘
(0));

135 
¡d
::
cout
 << "Node: " << 
k
;

136 
­p
->
	`G‘Sts
();

140 
	`NS_TEST_ASSERT_MSG_EQ
 (
Œue
,rue, "true doesn'tƒqualrue for some„eason");

142 
	`NS_TEST_ASSERT_MSG_EQ_TOL
 (0.01, 0.01, 0.001, "Numbers‡re‚otƒqual withinolerance");

143 
	}
}

149 şas 
	cDashTe¡Su™e
 : 
public
 
Te¡Su™e


151 
public
:

152 
DashTe¡Su™e
 ();

155 
	gDashTe¡Su™e
::
	$DashTe¡Su™e
 ()

156 : 
	`Te¡Su™e
 ("dash", 
UNIT
)

159 
	`AddTe¡Ca£
 (
Ãw
 
DashTe¡Ca£1
, 
Te¡Ca£
::
QUICK
);

160 
	}
}

163 
DashTe¡Su™e
 
	gdashTe¡Su™e
;

	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

144 #ià
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
èø## 
L


	)

146 
	#__UINT64_C
(
c
èø## 
UL


	)

148 
	#__INT64_C
(
c
èø## 
LL


	)

149 
	#__UINT64_C
(
c
èø## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #ià
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #ià
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #ià
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #ià
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #ià
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #ià
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifdeà
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
è
	)
c

283 
	#INT16_C
(
c
è
	)
c

284 
	#INT32_C
(
c
è
	)
c

285 #ià
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
èø## 
L


	)

288 
	#INT64_C
(
c
èø## 
LL


	)

292 
	#UINT8_C
(
c
è
	)
c

293 
	#UINT16_C
(
c
è
	)
c

294 
	#UINT32_C
(
c
èø## 
U


	)

295 #ià
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
èø## 
UL


	)

298 
	#UINT64_C
(
c
èø## 
ULL


	)

302 #ià
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
èø## 
L


	)

304 
	#UINTMAX_C
(
c
èø## 
UL


	)

306 
	#INTMAX_C
(
c
èø## 
LL


	)

307 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_MISC


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ifdeà
__USE_ISOC99


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_MISC


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ifdeà
__USE_ISOC99


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ifdeà
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ifdeà
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_MISC


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ifdeà
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ifdeà
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

758 #ifdeà
__USE_EXTERN_INLINES


759 
	~<b™s/¡dlib-b£¬ch.h
>

764 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

765 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

766 #ifdeà
__USE_GNU


767 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

768 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

769 
	`__nÚnuÎ
 ((1, 4));

774 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

775 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
__END_NAMESPACE_STD


778 #ifdeà
__USE_ISOC99


779 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

780 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

784 
__BEGIN_NAMESPACE_STD


788 
div_t
 
	$div
 (
__num”
, 
__d’om
)

789 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

790 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

791 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

792 
__END_NAMESPACE_STD


794 #ifdeà
__USE_ISOC99


795 
__BEGIN_NAMESPACE_C99


796 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

797 
__d’om
)

798 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

799 
__END_NAMESPACE_C99


803 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

804 || 
defšed
 
__USE_MISC


811 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

812 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

817 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

818 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

823 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

824 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

827 #ifdeà
__USE_MISC


829 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

830 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

831 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

832 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

833 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

834 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

835 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

836 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

841 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

842 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

843 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

845 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

846 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

852 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

853 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

854 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

855 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

859 
__BEGIN_NAMESPACE_STD


862 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

865 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

866 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

869 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

873 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

874 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

876 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

877 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

878 
__THROW
;

879 
__END_NAMESPACE_STD


882 #ifdeà
__USE_MISC


887 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


898 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

899 *cÚ¡ *
__»¡riù
 
__tok’s
,

900 **
__»¡riù
 
__v®u•
)

901 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

905 #ifdeà
__USE_XOPEN


907 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

913 #ifdeà
__USE_XOPEN2KXSI


915 
	$posix_İ’±
 (
__oæag
è
__wur
;

918 #ifdeà
__USE_XOPEN


923 
	$g¿Á±
 (
__fd
è
__THROW
;

927 
	$uÆock±
 (
__fd
è
__THROW
;

932 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

935 #ifdeà
__USE_GNU


939 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

940 
__THROW
 
	`__nÚnuÎ
 ((2));

943 
	`g‘±
 ();

946 #ifdeà
__USE_MISC


950 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	~<b™s/¡dlib-æßt.h
>

957 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


958 
	~<b™s/¡dlib.h
>

960 #ifdeà
__LDBL_COMPAT


961 
	~<b™s/¡dlib-ldbl.h
>

965 #undeà
__Ãed_m®loc_ªd_ÿÎoc


967 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #undeà
__USE_ISOC11


98 #undeà
__USE_ISOC99


99 #undeà
__USE_ISOC95


100 #undeà
__USE_ISOCXX11


101 #undeà
__USE_POSIX


102 #undeà
__USE_POSIX2


103 #undeà
__USE_POSIX199309


104 #undeà
__USE_POSIX199506


105 #undeà
__USE_XOPEN


106 #undeà
__USE_XOPEN_EXTENDED


107 #undeà
__USE_UNIX98


108 #undeà
__USE_XOPEN2K


109 #undeà
__USE_XOPEN2KXSI


110 #undeà
__USE_XOPEN2K8


111 #undeà
__USE_XOPEN2K8XSI


112 #undeà
__USE_LARGEFILE


113 #undeà
__USE_LARGEFILE64


114 #undeà
__USE_FILE_OFFSET64


115 #undeà
__USE_MISC


116 #undeà
__USE_ATFILE


117 #undeà
__USE_GNU


118 #undeà
__USE_REENTRANT


119 #undeà
__USE_FORTIFY_LEVEL


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

146 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

147 && !
defšed
 
	g_DEFAULT_SOURCE


152 #undeà
_DEFAULT_SOURCE


153 
	#_DEFAULT_SOURCE
 1

	)

157 #ifdeà
_GNU_SOURCE


158 #undeà
_ISOC95_SOURCE


159 
	#_ISOC95_SOURCE
 1

	)

160 #undeà
_ISOC99_SOURCE


161 
	#_ISOC99_SOURCE
 1

	)

162 #undeà
_ISOC11_SOURCE


163 
	#_ISOC11_SOURCE
 1

	)

164 #undeà
_POSIX_SOURCE


165 
	#_POSIX_SOURCE
 1

	)

166 #undeà
_POSIX_C_SOURCE


167 
	#_POSIX_C_SOURCE
 200809L

	)

168 #undeà
_XOPEN_SOURCE


169 
	#_XOPEN_SOURCE
 700

	)

170 #undeà
_XOPEN_SOURCE_EXTENDED


171 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

172 #undeà
_LARGEFILE64_SOURCE


173 
	#_LARGEFILE64_SOURCE
 1

	)

174 #undeà
_DEFAULT_SOURCE


175 
	#_DEFAULT_SOURCE
 1

	)

176 #undeà
_ATFILE_SOURCE


177 
	#_ATFILE_SOURCE
 1

	)

182 #ià(
defšed
 
_DEFAULT_SOURCE
 \

183 || (!
defšed
 
	g__STRICT_ANSI__
 \

184 && !
defšed
 
	g_ISOC99_SOURCE
 \

185 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

186 && !
defšed
 
	g_XOPEN_SOURCE
))

187 #undeà
_DEFAULT_SOURCE


188 
	#_DEFAULT_SOURCE
 1

	)

192 #ià(
defšed
 
_ISOC11_SOURCE
 \

193 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

194 
	#__USE_ISOC11
 1

	)

198 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

199 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

200 
	#__USE_ISOC99
 1

	)

204 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

205 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

206 
	#__USE_ISOC95
 1

	)

213 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

214 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

215 
	#__USE_ISOCXX11
 1

	)

221 #ifdeà
_DEFAULT_SOURCE


222 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


223 
	#__USE_POSIX_IMPLICITLY
 1

	)

225 #undeà
_POSIX_SOURCE


226 
	#_POSIX_SOURCE
 1

	)

227 #undeà
_POSIX_C_SOURCE


228 
	#_POSIX_C_SOURCE
 200809L

	)

230 #ià((!
defšed
 
__STRICT_ANSI__
 \

231 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

232 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

233 
	#_POSIX_SOURCE
 1

	)

234 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

235 
	#_POSIX_C_SOURCE
 2

	)

236 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

237 
	#_POSIX_C_SOURCE
 199506L

	)

238 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

239 
	#_POSIX_C_SOURCE
 200112L

	)

241 
	#_POSIX_C_SOURCE
 200809L

	)

243 
	#__USE_POSIX_IMPLICITLY
 1

	)

246 #ià(
defšed
 
_POSIX_SOURCE
 \

247 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

248 || 
defšed
 
_XOPEN_SOURCE
)

249 
	#__USE_POSIX
 1

	)

252 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


253 
	#__USE_POSIX2
 1

	)

256 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

257 
	#__USE_POSIX199309
 1

	)

260 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

261 
	#__USE_POSIX199506
 1

	)

264 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

265 
	#__USE_XOPEN2K
 1

	)

266 #undeà
__USE_ISOC95


267 
	#__USE_ISOC95
 1

	)

268 #undeà
__USE_ISOC99


269 
	#__USE_ISOC99
 1

	)

272 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

273 
	#__USE_XOPEN2K8
 1

	)

274 #undeà
_ATFILE_SOURCE


275 
	#_ATFILE_SOURCE
 1

	)

278 #ifdef 
_XOPEN_SOURCE


279 
	#__USE_XOPEN
 1

	)

280 #ià(
_XOPEN_SOURCE
 - 0) >= 500

281 
	#__USE_XOPEN_EXTENDED
 1

	)

282 
	#__USE_UNIX98
 1

	)

283 #undeà
_LARGEFILE_SOURCE


284 
	#_LARGEFILE_SOURCE
 1

	)

285 #ià(
_XOPEN_SOURCE
 - 0) >= 600

286 #ià(
_XOPEN_SOURCE
 - 0) >= 700

287 
	#__USE_XOPEN2K8
 1

	)

288 
	#__USE_XOPEN2K8XSI
 1

	)

290 
	#__USE_XOPEN2K
 1

	)

291 
	#__USE_XOPEN2KXSI
 1

	)

292 #undeà
__USE_ISOC95


293 
	#__USE_ISOC95
 1

	)

294 #undeà
__USE_ISOC99


295 
	#__USE_ISOC99
 1

	)

298 #ifdeà
_XOPEN_SOURCE_EXTENDED


299 
	#__USE_XOPEN_EXTENDED
 1

	)

304 #ifdeà
_LARGEFILE_SOURCE


305 
	#__USE_LARGEFILE
 1

	)

308 #ifdeà
_LARGEFILE64_SOURCE


309 
	#__USE_LARGEFILE64
 1

	)

312 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

313 
	#__USE_FILE_OFFSET64
 1

	)

316 #ià
defšed
 
_DEFAULT_SOURCE


317 
	#__USE_MISC
 1

	)

320 #ifdef 
_ATFILE_SOURCE


321 
	#__USE_ATFILE
 1

	)

324 #ifdef 
_GNU_SOURCE


325 
	#__USE_GNU
 1

	)

328 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


329 
	#__USE_REENTRANT
 1

	)

332 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

333 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

334 #ià
_FORTIFY_SOURCE
 > 1

335 
	#__USE_FORTIFY_LEVEL
 2

	)

337 
	#__USE_FORTIFY_LEVEL
 1

	)

340 
	#__USE_FORTIFY_LEVEL
 0

	)

345 
	~<¡dc-´edef.h
>

353 #undeà
__GNU_LIBRARY__


354 
	#__GNU_LIBRARY__
 6

	)

358 
	#__GLIBC__
 2

	)

359 
	#__GLIBC_MINOR__
 23

	)

361 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

362 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

365 #iâdeà
__ASSEMBLER__


366 #iâdeà
_SYS_CDEFS_H


367 
	~<sys/cdefs.h
>

372 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


373 
	#__USE_LARGEFILE
 1

	)

374 
	#__USE_LARGEFILE64
 1

	)

380 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

381 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

382 && 
defšed
 
	g__ex‹º_šlše


383 
	#__USE_EXTERN_INLINES
 1

	)

391 
	~<gnu/¡ubs.h
>

	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

55 
	#__STDC_ISO_10646__
 201505L

	)

58 
	#__STDC_NO_THREADS__
 1

	)

	@
1
.
1
/usr/include
39
993
examples/dash-example.cc
examples/dash-wifi.cc
examples/link-example.cc
helper/dash-client-helper.cc
helper/dash-client-helper.h
helper/dash-server-helper.cc
helper/dash-server-helper.h
model/algorithms/aaash-client.cc
model/algorithms/aaash-client.h
model/algorithms/fdash-client.cc
model/algorithms/fdash-client.h
model/algorithms/osmp-client.cc
model/algorithms/osmp-client.h
model/algorithms/raahs-client.cc
model/algorithms/raahs-client.h
model/algorithms/sftm-client.cc
model/algorithms/sftm-client.h
model/algorithms/svaa-client.cc
model/algorithms/svaa-client.h
model/dash-client.cc
model/dash-client.h
model/dash-server.cc
model/dash-server.h
model/http-header.cc
model/http-header.h
model/http-parser.cc
model/http-parser.h
model/mpeg-header.cc
model/mpeg-header.h
model/mpeg-player.cc
model/mpeg-player.h
model/para.h
test/dash-test-suite.cc
/usr/include/stdint.h
/usr/include/stdlib.h
/usr/include/alloca.h
/usr/include/features.h
/usr/include/xlocale.h
/usr/include/stdc-predef.h
